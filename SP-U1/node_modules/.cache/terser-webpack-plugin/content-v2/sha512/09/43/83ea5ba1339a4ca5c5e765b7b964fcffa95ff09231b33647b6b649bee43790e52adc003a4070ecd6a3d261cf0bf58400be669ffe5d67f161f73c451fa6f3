{"code":"(this.webpackJsonpSTUDYPELAGO=this.webpackJsonpSTUDYPELAGO||[]).push([[50],{127:function(t,e,i){\"use strict\";i.r(e),i.d(e,\"ion_virtual_scroll\",(function(){return d}));var n=i(1),r=i(13),s=i(12),o=\"item\",l=\"header\",h=\"footer\",a=function(t,e){var i=c(t,e);return i&&t.ownerDocument?t.ownerDocument.importNode(i.content,!0).children[0]:null},c=function(t,e){switch(e){case o:return t.querySelector(\"template:not([name])\");case l:return t.querySelector(\"template[name=header]\");case h:return t.querySelector(\"template[name=footer]\")}},u=function(t,e,i,n,r,s,a,c,u,d,p,f){for(var g=[],v=f+p,m=p;m<v;m++){var b,y=t[m];if(r)null!=(b=r(y,m,t))&&g.push({i:d++,type:l,value:b,index:m,height:i?i(b,m):a,reads:i?0:2,visible:!!i});if(g.push({i:d++,type:o,value:y,index:m,height:e?e(y,m):u,reads:e?0:2,visible:!!e}),s)null!=(b=s(y,m,t))&&g.push({i:d++,type:h,value:b,index:m,height:n?n(b,m):c,reads:n?0:2,visible:!!n})}return g},d=function(){function t(t){var e=this;Object(r.o)(this,t),this.range={offset:0,length:0},this.viewportHeight=0,this.cells=[],this.virtualDom=[],this.isEnabled=!1,this.viewportOffset=0,this.currentScrollTop=0,this.indexDirty=0,this.lastItemLen=0,this.totalHeight=0,this.approxItemHeight=45,this.approxHeaderHeight=30,this.approxFooterHeight=30,this.onScroll=function(){e.updateVirtualScroll()}}return t.prototype.itemsChanged=function(){this.calcCells(),this.updateVirtualScroll()},t.prototype.connectedCallback=function(){return Object(n.a)(this,void 0,void 0,(function(){var t,e;return Object(n.c)(this,(function(i){switch(i.label){case 0:return(t=this.el.closest(\"ion-content\"))?(e=this,[4,t.getScrollElement()]):(console.error(\"<ion-virtual-scroll> must be used inside an <ion-content>\"),[2]);case 1:return e.scrollEl=i.sent(),this.contentEl=t,this.calcCells(),this.updateState(),[2]}}))}))},t.prototype.componentDidUpdate=function(){this.updateState()},t.prototype.disconnectedCallback=function(){this.scrollEl=void 0},t.prototype.onResize=function(){this.calcCells(),this.updateVirtualScroll()},t.prototype.positionForItem=function(t){return Promise.resolve(function(t,e,i){var n=e.find((function(e){return e.type===o&&e.index===t}));return n?i[n.i]:-1}(t,this.cells,this.getHeightIndex()))},t.prototype.checkRange=function(t,e){return void 0===e&&(e=-1),Object(n.a)(this,void 0,void 0,(function(){var i,r,s;return Object(n.c)(this,(function(n){return this.items?(i=-1===e?this.items.length-t:e,r=function(t,e){var i=t.length>0?t[t.length-1].index:0;return 0===e?0:e===i+1?t.length:t.findIndex((function(t){return t.index===e}))}(this.cells,t),s=u(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,r,t,i),this.cells=function(t,e,i){if(0===i&&e.length>=t.length)return e;for(var n=0;n<e.length;n++)t[n+i]=e[n];return t}(this.cells,s,r),this.lastItemLen=this.items.length,this.indexDirty=Math.max(t-1,0),this.scheduleUpdate(),[2]):[2]}))}))},t.prototype.checkEnd=function(){return Object(n.a)(this,void 0,void 0,(function(){return Object(n.c)(this,(function(t){return this.items&&this.checkRange(this.lastItemLen),[2]}))}))},t.prototype.updateVirtualScroll=function(){this.isEnabled&&this.scrollEl&&(this.timerUpdate&&(clearTimeout(this.timerUpdate),this.timerUpdate=void 0),Object(r.h)(this.readVS.bind(this)),Object(r.f)(this.writeVS.bind(this)))},t.prototype.readVS=function(){for(var t=this,e=t.contentEl,i=t.scrollEl,n=0,r=t.el;r&&r!==e;)n+=r.offsetTop,r=r.offsetParent;this.viewportOffset=n,i&&(this.viewportHeight=i.offsetHeight,this.currentScrollTop=i.scrollTop)},t.prototype.writeVS=function(){var t=this.indexDirty,e=function(t,e,i){return{top:Math.max(t-i,0),bottom:t+e+i}}(this.currentScrollTop-this.viewportOffset,this.viewportHeight,100),i=this.getHeightIndex(),n=function(t,e,i){for(var n=e.top,r=e.bottom,s=0;s<t.length&&!(t[s]>n);s++);for(var o=Math.max(s-i-1,0);s<t.length&&!(t[s]>=r);s++);return{offset:o,length:Math.min(s+i,t.length)-o}}(i,e,2);(function(t,e,i){return t<=i.offset+i.length||e.offset!==i.offset||e.length!==i.length})(t,this.range,n)&&(this.range=n,function(t,e,i,n){for(var r=0,s=t;r<s.length;r++){var o=s[r];o.change=0,o.d=!0}for(var l=[],h=n.offset+n.length,a=function(n){var r=i[n],s=t.find((function(t){return t.d&&t.cell===r}));if(s){var o=e[n];o!==s.top&&(s.top=o,s.change=1),s.d=!1}else l.push(r)},c=n.offset;c<h;c++)a(c);for(var u=t.filter((function(t){return t.d})),d=function(i){var n=u.find((function(t){return t.d&&t.cell.type===i.type})),r=i.i;n?(n.d=!1,n.change=2,n.cell=i,n.top=e[r]):t.push({d:!1,cell:i,visible:!0,change:2,top:e[r]})},p=0,f=l;p<f.length;p++)d(f[p]);t.filter((function(t){return t.d&&-9999!==t.top})).forEach((function(t){t.change=1,t.top=-9999}))}(this.virtualDom,i,this.cells,n),this.nodeRender?function(t,e,i,n){for(var r,s=Array.from(t.children).filter((function(t){return\"TEMPLATE\"!==t.tagName})),o=s.length,l=0;l<i.length;l++){var h=i[l],c=h.cell;if(2===h.change){if(l<o)e(r=s[l],c,l);else{var u=a(t,c.type);(r=e(u,c,l)||u).classList.add(\"virtual-item\"),t.appendChild(r)}r.$ionCell=c}else r=s[l];0!==h.change&&(r.style.transform=\"translate3d(0,\"+h.top+\"px,0)\");var d=c.visible;h.visible!==d&&(d?r.classList.remove(\"virtual-loading\"):r.classList.add(\"virtual-loading\"),h.visible=d),c.reads>0&&(n(c,r),c.reads--)}}(this.el,this.nodeRender,this.virtualDom,this.updateCellHeight.bind(this)):this.domRender?this.domRender(this.virtualDom):this.renderItem&&Object(r.l)(this))},t.prototype.updateCellHeight=function(t,e){var i=this,n=function(){if(e.$ionCell===t){var n=window.getComputedStyle(e),r=e.offsetHeight+parseFloat(n.getPropertyValue(\"margin-bottom\"));i.setCellHeight(t,r)}};e?Object(s.c)(e,n):n()},t.prototype.setCellHeight=function(t,e){var i=t.i;t===this.cells[i]&&(t.height===e&&!0===t.visible||(t.visible=!0,t.height=e,this.indexDirty=Math.min(this.indexDirty,i),this.scheduleUpdate()))},t.prototype.scheduleUpdate=function(){var t=this;clearTimeout(this.timerUpdate),this.timerUpdate=setTimeout((function(){return t.updateVirtualScroll()}),100)},t.prototype.updateState=function(){var t=!(!this.scrollEl||!this.cells);t!==this.isEnabled&&(this.enableScrollEvents(t),t&&this.updateVirtualScroll())},t.prototype.calcCells=function(){this.items&&(this.lastItemLen=this.items.length,this.cells=u(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,0,0,this.lastItemLen),this.indexDirty=0)},t.prototype.getHeightIndex=function(){return this.indexDirty!==1/0&&this.calcHeightIndex(this.indexDirty),this.heightIndex},t.prototype.calcHeightIndex=function(t){void 0===t&&(t=0),this.heightIndex=function(t,e){if(!t)return new Uint32Array(e);if(t.length===e)return t;if(e>t.length){var i=new Uint32Array(e);return i.set(t),i}return t.subarray(0,e)}(this.heightIndex,this.cells.length),this.totalHeight=function(t,e,i){for(var n=t[i],r=i;r<t.length;r++)t[r]=n,n+=e[r].height;return n}(this.heightIndex,this.cells,t),this.indexDirty=1/0},t.prototype.enableScrollEvents=function(t){var e=this;this.rmEvent&&(this.rmEvent(),this.rmEvent=void 0);var i=this.scrollEl;i&&(this.isEnabled=t,i.addEventListener(\"scroll\",this.onScroll),this.rmEvent=function(){i.removeEventListener(\"scroll\",e.onScroll)})},t.prototype.renderVirtualNode=function(t){var e=t.cell,i=e.type,n=e.value,r=e.index;switch(i){case o:return this.renderItem(n,r);case l:return this.renderHeader(n,r);case h:return this.renderFooter(n,r)}},t.prototype.render=function(){var t=this;return Object(r.j)(r.c,{style:{height:this.totalHeight+\"px\"}},this.renderItem&&Object(r.j)(p,{dom:this.virtualDom},this.virtualDom.map((function(e){return t.renderVirtualNode(e)}))))},Object.defineProperty(t.prototype,\"el\",{get:function(){return Object(r.k)(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t,\"watchers\",{get:function(){return{itemHeight:[\"itemsChanged\"],headerHeight:[\"itemsChanged\"],footerHeight:[\"itemsChanged\"],items:[\"itemsChanged\"]}},enumerable:!1,configurable:!0}),t}(),p=function(t,e,i){var n=t.dom;return i.map(e,(function(t,e){var i=n[e],r=t.vattrs||{},s=r.class||\"\";return s+=\"virtual-item \",i.visible||(s+=\"virtual-loading\"),Object.assign(Object.assign({},t),{vattrs:Object.assign(Object.assign({},r),{class:s,style:Object.assign(Object.assign({},r.style),{transform:\"translate3d(0,\"+i.top+\"px,0)\"})})})}))};d.style=\"ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;-webkit-transition-duration:0ms;transition-duration:0ms;will-change:transform}\"}}]);","name":"static/js/50.114bcab2.chunk.js","map":{"version":3,"sources":["static/js/50.114bcab2.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","d","VirtualScroll","tslib__WEBPACK_IMPORTED_MODULE_0__","_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__","_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__","CELL_TYPE_ITEM","CELL_TYPE_HEADER","CELL_TYPE_FOOTER","createNode","t","e","i","getTemplate","ownerDocument","importNode","content","children","querySelector","calcCells","n","s","a","o","l","h","c","u","f","p","g","v","type","value","index","height","reads","visible","Object","range","offset","length","viewportHeight","cells","virtualDom","isEnabled","viewportOffset","currentScrollTop","indexDirty","lastItemLen","totalHeight","approxItemHeight","approxHeaderHeight","approxFooterHeight","onScroll","updateVirtualScroll","prototype","itemsChanged","connectedCallback","label","el","closest","getScrollElement","console","error","scrollEl","sent","contentEl","updateState","componentDidUpdate","disconnectedCallback","undefined","onResize","positionForItem","Promise","resolve","find","positionForIndex","getHeightIndex","checkRange","items","findIndex","findCellIndex","itemHeight","headerHeight","footerHeight","headerFn","footerFn","inplaceUpdate","Math","max","scheduleUpdate","checkEnd","timerUpdate","clearTimeout","readVS","bind","writeVS","offsetTop","offsetParent","offsetHeight","scrollTop","top","bottom","getViewport","min","getRange","getShouldUpdate","change","cell","filter","forEach","updateVDom","nodeRender","Array","from","tagName","classList","add","appendChild","style","transform","remove","doRender","updateCellHeight","domRender","renderItem","window","getComputedStyle","parseFloat","getPropertyValue","setCellHeight","setTimeout","enableScrollEvents","Infinity","calcHeightIndex","heightIndex","Uint32Array","set","subarray","resizeBuffer","rmEvent","addEventListener","removeEventListener","renderVirtualNode","renderHeader","renderFooter","render","VirtualProxy","dom","map","defineProperty","get","enumerable","configurable","vattrs","class","assign"],"mappings":"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"},"input":"(this[\"webpackJsonpSTUDYPELAGO\"] = this[\"webpackJsonpSTUDYPELAGO\"] || []).push([[50],{\n\n/***/ 127:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ion_virtual_scroll\", function() { return VirtualScroll; });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(1);\n/* harmony import */ var _index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(13);\n/* harmony import */ var _helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(12);\n\n\n\nvar CELL_TYPE_ITEM = \"item\";\nvar CELL_TYPE_HEADER = \"header\";\nvar CELL_TYPE_FOOTER = \"footer\";\nvar NODE_CHANGE_NONE = 0;\nvar NODE_CHANGE_POSITION = 1;\nvar NODE_CHANGE_CELL = 2;\nvar MIN_READS = 2;\n\nvar updateVDom = function updateVDom(t, e, i, r) {\n  for (var n = 0, s = t; n < s.length; n++) {\n    var a = s[n];\n    a.change = NODE_CHANGE_NONE;\n    a.d = true;\n  }\n\n  var o = [];\n  var l = r.offset + r.length;\n\n  var h = function h(r) {\n    var n = i[r];\n    var s = t.find(function (t) {\n      return t.d && t.cell === n;\n    });\n\n    if (s) {\n      var a = e[r];\n\n      if (a !== s.top) {\n        s.top = a;\n        s.change = NODE_CHANGE_POSITION;\n      }\n\n      s.d = false;\n    } else {\n      o.push(n);\n    }\n  };\n\n  for (var c = r.offset; c < l; c++) {\n    h(c);\n  }\n\n  var u = t.filter(function (t) {\n    return t.d;\n  });\n\n  var f = function f(i) {\n    var r = u.find(function (t) {\n      return t.d && t.cell.type === i.type;\n    });\n    var n = i.i;\n\n    if (r) {\n      r.d = false;\n      r.change = NODE_CHANGE_CELL;\n      r.cell = i;\n      r.top = e[n];\n    } else {\n      t.push({\n        d: false,\n        cell: i,\n        visible: true,\n        change: NODE_CHANGE_CELL,\n        top: e[n]\n      });\n    }\n  };\n\n  for (var d = 0, p = o; d < p.length; d++) {\n    var v = p[d];\n    f(v);\n  }\n\n  t.filter(function (t) {\n    return t.d && t.top !== -9999;\n  }).forEach(function (t) {\n    t.change = NODE_CHANGE_POSITION;\n    t.top = -9999;\n  });\n};\n\nvar doRender = function doRender(t, e, i, r) {\n  var n = Array.from(t.children).filter(function (t) {\n    return t.tagName !== \"TEMPLATE\";\n  });\n  var s = n.length;\n  var a;\n\n  for (var o = 0; o < i.length; o++) {\n    var l = i[o];\n    var h = l.cell;\n\n    if (l.change === NODE_CHANGE_CELL) {\n      if (o < s) {\n        a = n[o];\n        e(a, h, o);\n      } else {\n        var c = createNode(t, h.type);\n        a = e(c, h, o) || c;\n        a.classList.add(\"virtual-item\");\n        t.appendChild(a);\n      }\n\n      a[\"$ionCell\"] = h;\n    } else {\n      a = n[o];\n    }\n\n    if (l.change !== NODE_CHANGE_NONE) {\n      a.style.transform = \"translate3d(0,\" + l.top + \"px,0)\";\n    }\n\n    var u = h.visible;\n\n    if (l.visible !== u) {\n      if (u) {\n        a.classList.remove(\"virtual-loading\");\n      } else {\n        a.classList.add(\"virtual-loading\");\n      }\n\n      l.visible = u;\n    }\n\n    if (h.reads > 0) {\n      r(h, a);\n      h.reads--;\n    }\n  }\n};\n\nvar createNode = function createNode(t, e) {\n  var i = getTemplate(t, e);\n\n  if (i && t.ownerDocument) {\n    return t.ownerDocument.importNode(i.content, true).children[0];\n  }\n\n  return null;\n};\n\nvar getTemplate = function getTemplate(t, e) {\n  switch (e) {\n    case CELL_TYPE_ITEM:\n      return t.querySelector(\"template:not([name])\");\n\n    case CELL_TYPE_HEADER:\n      return t.querySelector(\"template[name=header]\");\n\n    case CELL_TYPE_FOOTER:\n      return t.querySelector(\"template[name=footer]\");\n  }\n};\n\nvar getViewport = function getViewport(t, e, i) {\n  return {\n    top: Math.max(t - i, 0),\n    bottom: t + e + i\n  };\n};\n\nvar getRange = function getRange(t, e, i) {\n  var r = e.top;\n  var n = e.bottom;\n  var s = 0;\n\n  for (; s < t.length; s++) {\n    if (t[s] > r) {\n      break;\n    }\n  }\n\n  var a = Math.max(s - i - 1, 0);\n\n  for (; s < t.length; s++) {\n    if (t[s] >= n) {\n      break;\n    }\n  }\n\n  var o = Math.min(s + i, t.length);\n  var l = o - a;\n  return {\n    offset: a,\n    length: l\n  };\n};\n\nvar getShouldUpdate = function getShouldUpdate(t, e, i) {\n  var r = i.offset + i.length;\n  return t <= r || e.offset !== i.offset || e.length !== i.length;\n};\n\nvar findCellIndex = function findCellIndex(t, e) {\n  var i = t.length > 0 ? t[t.length - 1].index : 0;\n\n  if (e === 0) {\n    return 0;\n  } else if (e === i + 1) {\n    return t.length;\n  } else {\n    return t.findIndex(function (t) {\n      return t.index === e;\n    });\n  }\n};\n\nvar inplaceUpdate = function inplaceUpdate(t, e, i) {\n  if (i === 0 && e.length >= t.length) {\n    return e;\n  }\n\n  for (var r = 0; r < e.length; r++) {\n    t[r + i] = e[r];\n  }\n\n  return t;\n};\n\nvar calcCells = function calcCells(t, e, i, r, n, s, a, o, l, h, c, u) {\n  var f = [];\n  var d = u + c;\n\n  for (var p = c; p < d; p++) {\n    var v = t[p];\n\n    if (n) {\n      var g = n(v, p, t);\n\n      if (g != null) {\n        f.push({\n          i: h++,\n          type: CELL_TYPE_HEADER,\n          value: g,\n          index: p,\n          height: i ? i(g, p) : a,\n          reads: i ? 0 : MIN_READS,\n          visible: !!i\n        });\n      }\n    }\n\n    f.push({\n      i: h++,\n      type: CELL_TYPE_ITEM,\n      value: v,\n      index: p,\n      height: e ? e(v, p) : l,\n      reads: e ? 0 : MIN_READS,\n      visible: !!e\n    });\n\n    if (s) {\n      var g = s(v, p, t);\n\n      if (g != null) {\n        f.push({\n          i: h++,\n          type: CELL_TYPE_FOOTER,\n          value: g,\n          index: p,\n          height: r ? r(g, p) : o,\n          reads: r ? 0 : MIN_READS,\n          visible: !!r\n        });\n      }\n    }\n  }\n\n  return f;\n};\n\nvar calcHeightIndex = function calcHeightIndex(t, e, i) {\n  var r = t[i];\n\n  for (var n = i; n < t.length; n++) {\n    t[n] = r;\n    r += e[n].height;\n  }\n\n  return r;\n};\n\nvar resizeBuffer = function resizeBuffer(t, e) {\n  if (!t) {\n    return new Uint32Array(e);\n  }\n\n  if (t.length === e) {\n    return t;\n  } else if (e > t.length) {\n    var i = new Uint32Array(e);\n    i.set(t);\n    return i;\n  } else {\n    return t.subarray(0, e);\n  }\n};\n\nvar positionForIndex = function positionForIndex(t, e, i) {\n  var r = e.find(function (e) {\n    return e.type === CELL_TYPE_ITEM && e.index === t;\n  });\n\n  if (r) {\n    return i[r.i];\n  }\n\n  return -1;\n};\n\nvar virtualScrollCss = \"ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;-webkit-transition-duration:0ms;transition-duration:0ms;will-change:transform}\";\n\nvar VirtualScroll = function () {\n  function t(t) {\n    var e = this;\n    Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* r */ \"o\"])(this, t);\n    this.range = {\n      offset: 0,\n      length: 0\n    };\n    this.viewportHeight = 0;\n    this.cells = [];\n    this.virtualDom = [];\n    this.isEnabled = false;\n    this.viewportOffset = 0;\n    this.currentScrollTop = 0;\n    this.indexDirty = 0;\n    this.lastItemLen = 0;\n    this.totalHeight = 0;\n    this.approxItemHeight = 45;\n    this.approxHeaderHeight = 30;\n    this.approxFooterHeight = 30;\n\n    this.onScroll = function () {\n      e.updateVirtualScroll();\n    };\n  }\n\n  t.prototype.itemsChanged = function () {\n    this.calcCells();\n    this.updateVirtualScroll();\n  };\n\n  t.prototype.connectedCallback = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function () {\n      var t, e;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"c\"])(this, function (i) {\n        switch (i.label) {\n          case 0:\n            t = this.el.closest(\"ion-content\");\n\n            if (!t) {\n              console.error(\"<ion-virtual-scroll> must be used inside an <ion-content>\");\n              return [2];\n            }\n\n            e = this;\n            return [4, t.getScrollElement()];\n\n          case 1:\n            e.scrollEl = i.sent();\n            this.contentEl = t;\n            this.calcCells();\n            this.updateState();\n            return [2];\n        }\n      });\n    });\n  };\n\n  t.prototype.componentDidUpdate = function () {\n    this.updateState();\n  };\n\n  t.prototype.disconnectedCallback = function () {\n    this.scrollEl = undefined;\n  };\n\n  t.prototype.onResize = function () {\n    this.calcCells();\n    this.updateVirtualScroll();\n  };\n\n  t.prototype.positionForItem = function (t) {\n    return Promise.resolve(positionForIndex(t, this.cells, this.getHeightIndex()));\n  };\n\n  t.prototype.checkRange = function (t, e) {\n    if (e === void 0) {\n      e = -1;\n    }\n\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function () {\n      var i, r, n;\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"c\"])(this, function (s) {\n        if (!this.items) {\n          return [2];\n        }\n\n        i = e === -1 ? this.items.length - t : e;\n        r = findCellIndex(this.cells, t);\n        n = calcCells(this.items, this.itemHeight, this.headerHeight, this.footerHeight, this.headerFn, this.footerFn, this.approxHeaderHeight, this.approxFooterHeight, this.approxItemHeight, r, t, i);\n        this.cells = inplaceUpdate(this.cells, n, r);\n        this.lastItemLen = this.items.length;\n        this.indexDirty = Math.max(t - 1, 0);\n        this.scheduleUpdate();\n        return [2];\n      });\n    });\n  };\n\n  t.prototype.checkEnd = function () {\n    return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __awaiter */ \"a\"])(this, void 0, void 0, function () {\n      return Object(tslib__WEBPACK_IMPORTED_MODULE_0__[/* __generator */ \"c\"])(this, function (t) {\n        if (this.items) {\n          this.checkRange(this.lastItemLen);\n        }\n\n        return [2];\n      });\n    });\n  };\n\n  t.prototype.updateVirtualScroll = function () {\n    if (!this.isEnabled || !this.scrollEl) {\n      return;\n    }\n\n    if (this.timerUpdate) {\n      clearTimeout(this.timerUpdate);\n      this.timerUpdate = undefined;\n    }\n\n    Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* f */ \"h\"])(this.readVS.bind(this));\n    Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* c */ \"f\"])(this.writeVS.bind(this));\n  };\n\n  t.prototype.readVS = function () {\n    var t = this,\n        e = t.contentEl,\n        i = t.scrollEl,\n        r = t.el;\n    var n = 0;\n    var s = r;\n\n    while (s && s !== e) {\n      n += s.offsetTop;\n      s = s.offsetParent;\n    }\n\n    this.viewportOffset = n;\n\n    if (i) {\n      this.viewportHeight = i.offsetHeight;\n      this.currentScrollTop = i.scrollTop;\n    }\n  };\n\n  t.prototype.writeVS = function () {\n    var t = this.indexDirty;\n    var e = this.currentScrollTop - this.viewportOffset;\n    var i = getViewport(e, this.viewportHeight, 100);\n    var r = this.getHeightIndex();\n    var n = getRange(r, i, 2);\n    var s = getShouldUpdate(t, this.range, n);\n\n    if (!s) {\n      return;\n    }\n\n    this.range = n;\n    updateVDom(this.virtualDom, r, this.cells, n);\n\n    if (this.nodeRender) {\n      doRender(this.el, this.nodeRender, this.virtualDom, this.updateCellHeight.bind(this));\n    } else if (this.domRender) {\n      this.domRender(this.virtualDom);\n    } else if (this.renderItem) {\n      Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* j */ \"l\"])(this);\n    }\n  };\n\n  t.prototype.updateCellHeight = function (t, e) {\n    var i = this;\n\n    var r = function r() {\n      if (e[\"$ionCell\"] === t) {\n        var r = window.getComputedStyle(e);\n        var n = e.offsetHeight + parseFloat(r.getPropertyValue(\"margin-bottom\"));\n        i.setCellHeight(t, n);\n      }\n    };\n\n    if (e) {\n      Object(_helpers_dd7e4b7b_js__WEBPACK_IMPORTED_MODULE_2__[\"c\"])(e, r);\n    } else {\n      r();\n    }\n  };\n\n  t.prototype.setCellHeight = function (t, e) {\n    var i = t.i;\n\n    if (t !== this.cells[i]) {\n      return;\n    }\n\n    if (t.height !== e || t.visible !== true) {\n      t.visible = true;\n      t.height = e;\n      this.indexDirty = Math.min(this.indexDirty, i);\n      this.scheduleUpdate();\n    }\n  };\n\n  t.prototype.scheduleUpdate = function () {\n    var t = this;\n    clearTimeout(this.timerUpdate);\n    this.timerUpdate = setTimeout(function () {\n      return t.updateVirtualScroll();\n    }, 100);\n  };\n\n  t.prototype.updateState = function () {\n    var t = !!(this.scrollEl && this.cells);\n\n    if (t !== this.isEnabled) {\n      this.enableScrollEvents(t);\n\n      if (t) {\n        this.updateVirtualScroll();\n      }\n    }\n  };\n\n  t.prototype.calcCells = function () {\n    if (!this.items) {\n      return;\n    }\n\n    this.lastItemLen = this.items.length;\n    this.cells = calcCells(this.items, this.itemHeight, this.headerHeight, this.footerHeight, this.headerFn, this.footerFn, this.approxHeaderHeight, this.approxFooterHeight, this.approxItemHeight, 0, 0, this.lastItemLen);\n    this.indexDirty = 0;\n  };\n\n  t.prototype.getHeightIndex = function () {\n    if (this.indexDirty !== Infinity) {\n      this.calcHeightIndex(this.indexDirty);\n    }\n\n    return this.heightIndex;\n  };\n\n  t.prototype.calcHeightIndex = function (t) {\n    if (t === void 0) {\n      t = 0;\n    }\n\n    this.heightIndex = resizeBuffer(this.heightIndex, this.cells.length);\n    this.totalHeight = calcHeightIndex(this.heightIndex, this.cells, t);\n    this.indexDirty = Infinity;\n  };\n\n  t.prototype.enableScrollEvents = function (t) {\n    var e = this;\n\n    if (this.rmEvent) {\n      this.rmEvent();\n      this.rmEvent = undefined;\n    }\n\n    var i = this.scrollEl;\n\n    if (i) {\n      this.isEnabled = t;\n      i.addEventListener(\"scroll\", this.onScroll);\n\n      this.rmEvent = function () {\n        i.removeEventListener(\"scroll\", e.onScroll);\n      };\n    }\n  };\n\n  t.prototype.renderVirtualNode = function (t) {\n    var e = t.cell,\n        i = e.type,\n        r = e.value,\n        n = e.index;\n\n    switch (i) {\n      case CELL_TYPE_ITEM:\n        return this.renderItem(r, n);\n\n      case CELL_TYPE_HEADER:\n        return this.renderHeader(r, n);\n\n      case CELL_TYPE_FOOTER:\n        return this.renderFooter(r, n);\n    }\n  };\n\n  t.prototype.render = function () {\n    var t = this;\n    return Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* h */ \"j\"])(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* H */ \"c\"], {\n      style: {\n        height: this.totalHeight + \"px\"\n      }\n    }, this.renderItem && Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* h */ \"j\"])(VirtualProxy, {\n      dom: this.virtualDom\n    }, this.virtualDom.map(function (e) {\n      return t.renderVirtualNode(e);\n    })));\n  };\n\n  Object.defineProperty(t.prototype, \"el\", {\n    get: function get() {\n      return Object(_index_7a8b7a1c_js__WEBPACK_IMPORTED_MODULE_1__[/* i */ \"k\"])(this);\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(t, \"watchers\", {\n    get: function get() {\n      return {\n        itemHeight: [\"itemsChanged\"],\n        headerHeight: [\"itemsChanged\"],\n        footerHeight: [\"itemsChanged\"],\n        items: [\"itemsChanged\"]\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  return t;\n}();\n\nvar VirtualProxy = function VirtualProxy(t, e, i) {\n  var r = t.dom;\n  return i.map(e, function (t, e) {\n    var i = r[e];\n    var n = t.vattrs || {};\n    var s = n.class || \"\";\n    s += \"virtual-item \";\n\n    if (!i.visible) {\n      s += \"virtual-loading\";\n    }\n\n    return Object.assign(Object.assign({}, t), {\n      vattrs: Object.assign(Object.assign({}, n), {\n        class: s,\n        style: Object.assign(Object.assign({}, n.style), {\n          transform: \"translate3d(0,\" + i.top + \"px,0)\"\n        })\n      })\n    });\n  });\n};\n\nVirtualScroll.style = virtualScrollCss;\n\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/tm/Documents/CODE/ION/STUDYPELAGO/node_modules/@ionic/core/dist/esm-es5/ion-virtual-scroll.entry.js"],"names":["CELL_TYPE_ITEM","CELL_TYPE_HEADER","CELL_TYPE_FOOTER","NODE_CHANGE_NONE","NODE_CHANGE_POSITION","NODE_CHANGE_CELL","MIN_READS","updateVDom","t","e","i","r","n","s","length","a","change","d","o","l","offset","h","find","cell","top","push","c","u","filter","f","type","visible","p","v","forEach","doRender","Array","from","children","tagName","createNode","classList","add","appendChild","style","transform","remove","reads","getTemplate","ownerDocument","importNode","content","querySelector","getViewport","Math","max","bottom","getRange","min","getShouldUpdate","findCellIndex","index","findIndex","inplaceUpdate","calcCells","g","value","height","calcHeightIndex","resizeBuffer","Uint32Array","set","subarray","positionForIndex","virtualScrollCss","VirtualScroll","registerInstance","range","viewportHeight","cells","virtualDom","isEnabled","viewportOffset","currentScrollTop","indexDirty","lastItemLen","totalHeight","approxItemHeight","approxHeaderHeight","approxFooterHeight","onScroll","updateVirtualScroll","prototype","itemsChanged","connectedCallback","__awaiter","__generator","label","el","closest","console","error","getScrollElement","scrollEl","sent","contentEl","updateState","componentDidUpdate","disconnectedCallback","undefined","onResize","positionForItem","Promise","resolve","getHeightIndex","checkRange","items","itemHeight","headerHeight","footerHeight","headerFn","footerFn","scheduleUpdate","checkEnd","timerUpdate","clearTimeout","readTask","readVS","bind","writeTask","writeVS","offsetTop","offsetParent","offsetHeight","scrollTop","nodeRender","updateCellHeight","domRender","renderItem","forceUpdate","window","getComputedStyle","parseFloat","getPropertyValue","setCellHeight","componentOnReady","setTimeout","enableScrollEvents","Infinity","heightIndex","rmEvent","addEventListener","removeEventListener","renderVirtualNode","renderHeader","renderFooter","render","Host","VirtualProxy","dom","map","Object","defineProperty","get","getElement","enumerable","configurable","vattrs","class","assign"],"mappings":"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","file":"x","sourcesContent":["import{__awaiter,__generator}from\"tslib\";import{r as registerInstance,f as readTask,c as writeTask,j as forceUpdate,h,H as Host,i as getElement}from\"./index-7a8b7a1c.js\";import{c as componentOnReady}from\"./helpers-dd7e4b7b.js\";var CELL_TYPE_ITEM=\"item\";var CELL_TYPE_HEADER=\"header\";var CELL_TYPE_FOOTER=\"footer\";var NODE_CHANGE_NONE=0;var NODE_CHANGE_POSITION=1;var NODE_CHANGE_CELL=2;var MIN_READS=2;var updateVDom=function(t,e,i,r){for(var n=0,s=t;n<s.length;n++){var a=s[n];a.change=NODE_CHANGE_NONE;a.d=true}var o=[];var l=r.offset+r.length;var h=function(r){var n=i[r];var s=t.find((function(t){return t.d&&t.cell===n}));if(s){var a=e[r];if(a!==s.top){s.top=a;s.change=NODE_CHANGE_POSITION}s.d=false}else{o.push(n)}};for(var c=r.offset;c<l;c++){h(c)}var u=t.filter((function(t){return t.d}));var f=function(i){var r=u.find((function(t){return t.d&&t.cell.type===i.type}));var n=i.i;if(r){r.d=false;r.change=NODE_CHANGE_CELL;r.cell=i;r.top=e[n]}else{t.push({d:false,cell:i,visible:true,change:NODE_CHANGE_CELL,top:e[n]})}};for(var d=0,p=o;d<p.length;d++){var v=p[d];f(v)}t.filter((function(t){return t.d&&t.top!==-9999})).forEach((function(t){t.change=NODE_CHANGE_POSITION;t.top=-9999}))};var doRender=function(t,e,i,r){var n=Array.from(t.children).filter((function(t){return t.tagName!==\"TEMPLATE\"}));var s=n.length;var a;for(var o=0;o<i.length;o++){var l=i[o];var h=l.cell;if(l.change===NODE_CHANGE_CELL){if(o<s){a=n[o];e(a,h,o)}else{var c=createNode(t,h.type);a=e(c,h,o)||c;a.classList.add(\"virtual-item\");t.appendChild(a)}a[\"$ionCell\"]=h}else{a=n[o]}if(l.change!==NODE_CHANGE_NONE){a.style.transform=\"translate3d(0,\"+l.top+\"px,0)\"}var u=h.visible;if(l.visible!==u){if(u){a.classList.remove(\"virtual-loading\")}else{a.classList.add(\"virtual-loading\")}l.visible=u}if(h.reads>0){r(h,a);h.reads--}}};var createNode=function(t,e){var i=getTemplate(t,e);if(i&&t.ownerDocument){return t.ownerDocument.importNode(i.content,true).children[0]}return null};var getTemplate=function(t,e){switch(e){case CELL_TYPE_ITEM:return t.querySelector(\"template:not([name])\");case CELL_TYPE_HEADER:return t.querySelector(\"template[name=header]\");case CELL_TYPE_FOOTER:return t.querySelector(\"template[name=footer]\")}};var getViewport=function(t,e,i){return{top:Math.max(t-i,0),bottom:t+e+i}};var getRange=function(t,e,i){var r=e.top;var n=e.bottom;var s=0;for(;s<t.length;s++){if(t[s]>r){break}}var a=Math.max(s-i-1,0);for(;s<t.length;s++){if(t[s]>=n){break}}var o=Math.min(s+i,t.length);var l=o-a;return{offset:a,length:l}};var getShouldUpdate=function(t,e,i){var r=i.offset+i.length;return t<=r||e.offset!==i.offset||e.length!==i.length};var findCellIndex=function(t,e){var i=t.length>0?t[t.length-1].index:0;if(e===0){return 0}else if(e===i+1){return t.length}else{return t.findIndex((function(t){return t.index===e}))}};var inplaceUpdate=function(t,e,i){if(i===0&&e.length>=t.length){return e}for(var r=0;r<e.length;r++){t[r+i]=e[r]}return t};var calcCells=function(t,e,i,r,n,s,a,o,l,h,c,u){var f=[];var d=u+c;for(var p=c;p<d;p++){var v=t[p];if(n){var g=n(v,p,t);if(g!=null){f.push({i:h++,type:CELL_TYPE_HEADER,value:g,index:p,height:i?i(g,p):a,reads:i?0:MIN_READS,visible:!!i})}}f.push({i:h++,type:CELL_TYPE_ITEM,value:v,index:p,height:e?e(v,p):l,reads:e?0:MIN_READS,visible:!!e});if(s){var g=s(v,p,t);if(g!=null){f.push({i:h++,type:CELL_TYPE_FOOTER,value:g,index:p,height:r?r(g,p):o,reads:r?0:MIN_READS,visible:!!r})}}}return f};var calcHeightIndex=function(t,e,i){var r=t[i];for(var n=i;n<t.length;n++){t[n]=r;r+=e[n].height}return r};var resizeBuffer=function(t,e){if(!t){return new Uint32Array(e)}if(t.length===e){return t}else if(e>t.length){var i=new Uint32Array(e);i.set(t);return i}else{return t.subarray(0,e)}};var positionForIndex=function(t,e,i){var r=e.find((function(e){return e.type===CELL_TYPE_ITEM&&e.index===t}));if(r){return i[r.i]}return-1};var virtualScrollCss=\"ion-virtual-scroll{display:block;position:relative;width:100%;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-virtual-scroll>.virtual-loading{opacity:0}ion-virtual-scroll>.virtual-item{position:absolute !important;top:0 !important;right:0 !important;left:0 !important;-webkit-transition-duration:0ms;transition-duration:0ms;will-change:transform}\";var VirtualScroll=function(){function t(t){var e=this;registerInstance(this,t);this.range={offset:0,length:0};this.viewportHeight=0;this.cells=[];this.virtualDom=[];this.isEnabled=false;this.viewportOffset=0;this.currentScrollTop=0;this.indexDirty=0;this.lastItemLen=0;this.totalHeight=0;this.approxItemHeight=45;this.approxHeaderHeight=30;this.approxFooterHeight=30;this.onScroll=function(){e.updateVirtualScroll()}}t.prototype.itemsChanged=function(){this.calcCells();this.updateVirtualScroll()};t.prototype.connectedCallback=function(){return __awaiter(this,void 0,void 0,(function(){var t,e;return __generator(this,(function(i){switch(i.label){case 0:t=this.el.closest(\"ion-content\");if(!t){console.error(\"<ion-virtual-scroll> must be used inside an <ion-content>\");return[2]}e=this;return[4,t.getScrollElement()];case 1:e.scrollEl=i.sent();this.contentEl=t;this.calcCells();this.updateState();return[2]}}))}))};t.prototype.componentDidUpdate=function(){this.updateState()};t.prototype.disconnectedCallback=function(){this.scrollEl=undefined};t.prototype.onResize=function(){this.calcCells();this.updateVirtualScroll()};t.prototype.positionForItem=function(t){return Promise.resolve(positionForIndex(t,this.cells,this.getHeightIndex()))};t.prototype.checkRange=function(t,e){if(e===void 0){e=-1}return __awaiter(this,void 0,void 0,(function(){var i,r,n;return __generator(this,(function(s){if(!this.items){return[2]}i=e===-1?this.items.length-t:e;r=findCellIndex(this.cells,t);n=calcCells(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,r,t,i);this.cells=inplaceUpdate(this.cells,n,r);this.lastItemLen=this.items.length;this.indexDirty=Math.max(t-1,0);this.scheduleUpdate();return[2]}))}))};t.prototype.checkEnd=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(this.items){this.checkRange(this.lastItemLen)}return[2]}))}))};t.prototype.updateVirtualScroll=function(){if(!this.isEnabled||!this.scrollEl){return}if(this.timerUpdate){clearTimeout(this.timerUpdate);this.timerUpdate=undefined}readTask(this.readVS.bind(this));writeTask(this.writeVS.bind(this))};t.prototype.readVS=function(){var t=this,e=t.contentEl,i=t.scrollEl,r=t.el;var n=0;var s=r;while(s&&s!==e){n+=s.offsetTop;s=s.offsetParent}this.viewportOffset=n;if(i){this.viewportHeight=i.offsetHeight;this.currentScrollTop=i.scrollTop}};t.prototype.writeVS=function(){var t=this.indexDirty;var e=this.currentScrollTop-this.viewportOffset;var i=getViewport(e,this.viewportHeight,100);var r=this.getHeightIndex();var n=getRange(r,i,2);var s=getShouldUpdate(t,this.range,n);if(!s){return}this.range=n;updateVDom(this.virtualDom,r,this.cells,n);if(this.nodeRender){doRender(this.el,this.nodeRender,this.virtualDom,this.updateCellHeight.bind(this))}else if(this.domRender){this.domRender(this.virtualDom)}else if(this.renderItem){forceUpdate(this)}};t.prototype.updateCellHeight=function(t,e){var i=this;var r=function(){if(e[\"$ionCell\"]===t){var r=window.getComputedStyle(e);var n=e.offsetHeight+parseFloat(r.getPropertyValue(\"margin-bottom\"));i.setCellHeight(t,n)}};if(e){componentOnReady(e,r)}else{r()}};t.prototype.setCellHeight=function(t,e){var i=t.i;if(t!==this.cells[i]){return}if(t.height!==e||t.visible!==true){t.visible=true;t.height=e;this.indexDirty=Math.min(this.indexDirty,i);this.scheduleUpdate()}};t.prototype.scheduleUpdate=function(){var t=this;clearTimeout(this.timerUpdate);this.timerUpdate=setTimeout((function(){return t.updateVirtualScroll()}),100)};t.prototype.updateState=function(){var t=!!(this.scrollEl&&this.cells);if(t!==this.isEnabled){this.enableScrollEvents(t);if(t){this.updateVirtualScroll()}}};t.prototype.calcCells=function(){if(!this.items){return}this.lastItemLen=this.items.length;this.cells=calcCells(this.items,this.itemHeight,this.headerHeight,this.footerHeight,this.headerFn,this.footerFn,this.approxHeaderHeight,this.approxFooterHeight,this.approxItemHeight,0,0,this.lastItemLen);this.indexDirty=0};t.prototype.getHeightIndex=function(){if(this.indexDirty!==Infinity){this.calcHeightIndex(this.indexDirty)}return this.heightIndex};t.prototype.calcHeightIndex=function(t){if(t===void 0){t=0}this.heightIndex=resizeBuffer(this.heightIndex,this.cells.length);this.totalHeight=calcHeightIndex(this.heightIndex,this.cells,t);this.indexDirty=Infinity};t.prototype.enableScrollEvents=function(t){var e=this;if(this.rmEvent){this.rmEvent();this.rmEvent=undefined}var i=this.scrollEl;if(i){this.isEnabled=t;i.addEventListener(\"scroll\",this.onScroll);this.rmEvent=function(){i.removeEventListener(\"scroll\",e.onScroll)}}};t.prototype.renderVirtualNode=function(t){var e=t.cell,i=e.type,r=e.value,n=e.index;switch(i){case CELL_TYPE_ITEM:return this.renderItem(r,n);case CELL_TYPE_HEADER:return this.renderHeader(r,n);case CELL_TYPE_FOOTER:return this.renderFooter(r,n)}};t.prototype.render=function(){var t=this;return h(Host,{style:{height:this.totalHeight+\"px\"}},this.renderItem&&h(VirtualProxy,{dom:this.virtualDom},this.virtualDom.map((function(e){return t.renderVirtualNode(e)}))))};Object.defineProperty(t.prototype,\"el\",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,\"watchers\",{get:function(){return{itemHeight:[\"itemsChanged\"],headerHeight:[\"itemsChanged\"],footerHeight:[\"itemsChanged\"],items:[\"itemsChanged\"]}},enumerable:false,configurable:true});return t}();var VirtualProxy=function(t,e,i){var r=t.dom;return i.map(e,(function(t,e){var i=r[e];var n=t.vattrs||{};var s=n.class||\"\";s+=\"virtual-item \";if(!i.visible){s+=\"virtual-loading\"}return Object.assign(Object.assign({},t),{vattrs:Object.assign(Object.assign({},n),{class:s,style:Object.assign(Object.assign({},n.style),{transform:\"translate3d(0,\"+i.top+\"px,0)\"})})})}))};VirtualScroll.style=virtualScrollCss;export{VirtualScroll as ion_virtual_scroll};"]}}