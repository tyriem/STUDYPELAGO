{"ast":null,"code":"var _jsxFileName = \"/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/HomePage.tsx\",\n    _s = $RefreshSig$();\n\n// IMPORT: ION LIBs\nimport { IonButton, IonButtons, IonContent, IonHeader, IonIcon, IonImg, IonLabel, IonMenuButton, IonModal, IonPage, IonRouterOutlet, IonTabs, IonTabButton, IonTabBar, IonTitle, IonToolbar, useIonAlert, IonFab, IonFabButton } from \"@ionic/react\"; // IMPORT: ICONS\n\nimport { home, calendar, compass, pencil, search, cash } from \"ionicons/icons\"; // IMPORT: REACT-ROUTER LIBs\n\nimport { Route, Redirect, useHistory } from \"react-router\";\nimport \"./Page.css\"; //IMPORT: TAB COMPONENTS\n\nimport TabT from \"./tabs/TimelineTab\";\nimport TabTC from \"./tabs/TutorCenterTab\";\nimport TabCC from \"./tabs/CourseCenterTab\";\nimport TabSI from \"./tabs/StudyIslandTab\";\nimport TabFT from \"./tabs/FindTutorTab\"; //IMPORT: FIREBASE LIBs\n\nimport { firebaseAuth, firebaseApp } from \"../data/data-services\";\n// IMPORT: USE LIBs\nimport { useEffect, useState } from \"react\"; //IMPORT: IMAGE\n\nimport welcomeImg from \"../assets/img/welcome.jpg\"; //IMPORT PAYMENT PAGE\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HomePage = () => {\n  _s();\n\n  const history = useHistory();\n  const [userProfile, setUserProfile] = useState(null);\n  const [showModal, setShowModal] = useState(true); // RENDER ANDR OR IOS ALERTS\n\n  const [present] = useIonAlert(); // GET DOCUMENT \"USERS\"\n\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      var _firebaseAuth$current;\n\n      const userId = (_firebaseAuth$current = firebaseAuth.currentUser) === null || _firebaseAuth$current === void 0 ? void 0 : _firebaseAuth$current.uid;\n      console.log(\"User ID: \", userId);\n      const dataResponse = await firebaseApp.firestore().collection(\"users\").doc(userId).get(); // SET THE USER DATA FROM DOCUMENT\n\n      setUserProfile(dataResponse.data());\n      console.log(\"Data Response: \", dataResponse.data);\n    };\n\n    console.log(\"get user profile information...\");\n    loadUserProfile();\n  }, []); // END FIRST RUN PROTOCOL\n\n  var doEndFirstRun = async () => {\n    try {\n      var _firebaseAuth$current2;\n\n      firebaseApp.firestore().collection(\"users\").doc((_firebaseAuth$current2 = firebaseAuth.currentUser) === null || _firebaseAuth$current2 === void 0 ? void 0 : _firebaseAuth$current2.uid).update({\n        firstRun: 0\n      }); // NO ERROR: RENDER TIMELINE/HOME\n\n      history.replace(\"/tabs/timeline\");\n    } catch (error) {\n      // ERROR CHECK: Ending first run...\n      if (error) {\n        present({\n          header: \"Error Ending First Run\",\n          message: error === null || error === void 0 ? void 0 : error.message,\n          buttons: [\"OK\"]\n        });\n        return;\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      class: \"ion-no-border\",\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IonButtons, {\n          slot: \"start\",\n          children: /*#__PURE__*/_jsxDEV(IonMenuButton, {\n            color: \"light\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"STUDYPELAGO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      fullscreen: true,\n      className: \"ion-padding\",\n      children: [/*#__PURE__*/_jsxDEV(IonFab, {\n        vertical: \"top\",\n        horizontal: \"end\",\n        slot: \"fixed\",\n        children: /*#__PURE__*/_jsxDEV(IonFabButton, {\n          href: \"/commerce/payment\",\n          children: /*#__PURE__*/_jsxDEV(IonIcon, {\n            icon: cash\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n        routerLink: \"/profile\",\n        color: \"light\",\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: [\"Welcome, \", userProfile === null || userProfile === void 0 ? void 0 : userProfile.firstName, \" \", userProfile === null || userProfile === void 0 ? void 0 : userProfile.lastName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n        children: [\"Role: \", userProfile === null || userProfile === void 0 ? void 0 : userProfile.role]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile.firstRun) && (userProfile === null || userProfile === void 0 ? void 0 : userProfile.role) != \"Tutor\" ? /*#__PURE__*/_jsxDEV(IonModal, {\n        isOpen: showModal,\n        children: [\"Thank you for joining Studypelago,\", userProfile === null || userProfile === void 0 ? void 0 : userProfile.firstName, \" \", userProfile === null || userProfile === void 0 ? void 0 : userProfile.lastName, /*#__PURE__*/_jsxDEV(IonImg, {\n          src: welcomeImg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"We at Studypelago would like to thank you for trying our service.\", \" \", /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 15\n          }, this), \"Would you like to find a tutor immediately or have a quick tour of our app?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n          routerLink: \"/commerce/product\",\n          children: \"FIND A TUTOR\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n          onClick: () => {\n            doEndFirstRun();\n            setShowModal(false);\n          },\n          children: \"TOUR STUDYPELAGO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify(userProfile, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), (userProfile === null || userProfile === void 0 ? void 0 : userProfile.role) === \"Tutor\" ? /*#__PURE__*/_jsxDEV(IonTabs, {\n        children: [/*#__PURE__*/_jsxDEV(IonRouterOutlet, {\n          children: [/*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            path: \"/tabs\",\n            to: \"/tabs/timeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tabs/TimelineTab\",\n            render: () => /*#__PURE__*/_jsxDEV(TabT, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 31\n            }, this),\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tabs/TutorCenterTab\",\n            render: () => /*#__PURE__*/_jsxDEV(TabTC, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 31\n            }, this),\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tabs/CourseCenterTab\",\n            render: () => /*#__PURE__*/_jsxDEV(TabCC, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 31\n            }, this),\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonTabBar, {\n          slot: \"bottom\",\n          children: [/*#__PURE__*/_jsxDEV(IonTabButton, {\n            tab: \"TimelineTab\",\n            href: \"/tabs/timeline\",\n            children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Timeline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IonTabButton, {\n            tab: \"TutorCenterTab\",\n            href: \"/tabs/tutor-center\",\n            children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: calendar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Tutor Center\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IonTabButton, {\n            tab: \"CourseCenterTab\",\n            href: \"/tabs/course-center\",\n            children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: pencil\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Course Center\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n\n      /* TERNARY OP: ROLE = STUDENT OR PARENT */\n      _jsxDEV(IonTabs, {\n        children: [/*#__PURE__*/_jsxDEV(IonRouterOutlet, {\n          children: [/*#__PURE__*/_jsxDEV(Redirect, {\n            exact: true,\n            path: \"/tabs\",\n            to: \"/tabs/timeline\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tabs/TimelineTab\",\n            render: () => /*#__PURE__*/_jsxDEV(TabT, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 31\n            }, this),\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tabs/StudyIslandTab\",\n            render: () => /*#__PURE__*/_jsxDEV(TabSI, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 31\n            }, this),\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/tabs/FindTutorTab\",\n            render: () => /*#__PURE__*/_jsxDEV(TabFT, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 31\n            }, this),\n            exact: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(IonTabBar, {\n          slot: \"bottom\",\n          children: [/*#__PURE__*/_jsxDEV(IonTabButton, {\n            tab: \"TimelineTab\",\n            href: \"/tabs/timeline\",\n            children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: home\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Timeline\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IonTabButton, {\n            tab: \"StudyIslandTab\",\n            href: \"/tabs/study-island\",\n            children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: compass\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Study Island\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(IonTabButton, {\n            tab: \"FindTutorTab\",\n            href: \"/tabs/find-tutor\",\n            children: [/*#__PURE__*/_jsxDEV(IonIcon, {\n              icon: search\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(IonLabel, {\n              children: \"Find A Tutor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 112,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HomePage, \"lH0Z1lO7g2Iqb43xN7G8CY9qtGY=\", false, function () {\n  return [useHistory, useIonAlert];\n});\n\n_c = HomePage;\nexport default HomePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"sources":["/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/HomePage.tsx"],"names":["IonButton","IonButtons","IonContent","IonHeader","IonIcon","IonImg","IonLabel","IonMenuButton","IonModal","IonPage","IonRouterOutlet","IonTabs","IonTabButton","IonTabBar","IonTitle","IonToolbar","useIonAlert","IonFab","IonFabButton","home","calendar","compass","pencil","search","cash","Route","Redirect","useHistory","TabT","TabTC","TabCC","TabSI","TabFT","firebaseAuth","firebaseApp","useEffect","useState","welcomeImg","HomePage","history","userProfile","setUserProfile","showModal","setShowModal","present","loadUserProfile","userId","currentUser","uid","console","log","dataResponse","firestore","collection","doc","get","data","doEndFirstRun","update","firstRun","replace","error","header","message","buttons","firstName","lastName","role","JSON","stringify"],"mappings":"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","sourcesContent":["// IMPORT: ION LIBs\nimport {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonIcon,\n  IonImg,\n  IonLabel,\n  IonMenuButton,\n  IonModal,\n  IonPage,\n  IonRouterOutlet,\n  IonTabs,\n  IonTabButton,\n  IonTabBar,\n  IonTitle,\n  IonToolbar,\n  useIonAlert,\n  IonFab,\n  IonFabButton,\n} from \"@ionic/react\";\n// IMPORT: ICONS\nimport {\n  home,\n  calendar,\n  compass,\n  pencil,\n  search,\n  add,\n  cash,\n} from \"ionicons/icons\";\n// IMPORT: REACT-ROUTER LIBs\nimport { Route, Redirect, useHistory } from \"react-router\";\nimport \"./Page.css\";\n\n//IMPORT: TAB COMPONENTS\nimport TabT from \"./tabs/TimelineTab\";\nimport TabTC from \"./tabs/TutorCenterTab\";\nimport TabCC from \"./tabs/CourseCenterTab\";\nimport TabSI from \"./tabs/StudyIslandTab\";\nimport TabFT from \"./tabs/FindTutorTab\";\n\n//IMPORT: FIREBASE LIBs\n\nimport { firebaseAuth, firebaseApp } from \"../data/data-services\";\nimport { getTutorData } from \"../data/data-services\";\nimport { getCourseData } from \"../data/data-services\";\n\n// IMPORT: USE LIBs\nimport { useEffect, useState } from \"react\";\n\n//IMPORT: IMAGE\nimport welcomeImg from \"../assets/img/welcome.jpg\";\n\n//IMPORT PAYMENT PAGE\nimport PaymentPage from \"./commerce/PaymentPage\";\n\nconst HomePage: React.FC = () => {\n  const history = useHistory();\n  const [userProfile, setUserProfile] = useState<any>(null);\n  const [showModal, setShowModal] = useState(true);\n\n  // RENDER ANDR OR IOS ALERTS\n  const [present] = useIonAlert();\n\n  // GET DOCUMENT \"USERS\"\n  useEffect(() => {\n    const loadUserProfile = async () => {\n      const userId = firebaseAuth.currentUser?.uid;\n      console.log(\"User ID: \", userId);\n      const dataResponse = await firebaseApp\n        .firestore()\n        .collection(\"users\")\n        .doc(userId)\n        .get();\n\n      // SET THE USER DATA FROM DOCUMENT\n      setUserProfile(dataResponse.data());\n      console.log(\"Data Response: \", dataResponse.data);\n    };\n\n    console.log(\"get user profile information...\");\n    loadUserProfile();\n  }, []);\n\n  // END FIRST RUN PROTOCOL\n  var doEndFirstRun = async () => {\n    try {\n      firebaseApp\n        .firestore()\n        .collection(\"users\")\n        .doc(firebaseAuth.currentUser?.uid)\n        .update({ firstRun: 0 });\n\n      // NO ERROR: RENDER TIMELINE/HOME\n      history.replace(\"/tabs/timeline\");\n    } catch (error: any) {\n      // ERROR CHECK: Ending first run...\n      if (error) {\n        present({\n          header: \"Error Ending First Run\",\n          message: error?.message,\n          buttons: [\"OK\"],\n        });\n        return;\n      }\n    }\n  };\n\n  return (\n    <IonPage>\n      <IonHeader class=\"ion-no-border\">\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton color=\"light\" />\n          </IonButtons>\n          <IonTitle>STUDYPELAGO</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen className=\"ion-padding\">\n        {/*-- PAYMENT FAB --*/}\n        <IonFab vertical=\"top\" horizontal=\"end\" slot=\"fixed\">\n          <IonFabButton href=\"/commerce/payment\">\n            {/* {history.replace(\"/commerce/payment\")} */}\n            <IonIcon icon={cash} />\n          </IonFabButton>\n        </IonFab>\n\n        <IonButton routerLink={\"/profile\"} color=\"light\">\n          Profile\n        </IonButton>\n        <pre>\n          Welcome, {userProfile?.firstName} {userProfile?.lastName}\n        </pre>\n        <h6>Role: {userProfile?.role}</h6>\n        {/* MODAL: FIRST RUN PROTOCOL */}\n        {userProfile?.firstRun && userProfile?.role != \"Tutor\" ? (\n          <IonModal isOpen={showModal}>\n            Thank you for joining Studypelago,\n            {userProfile?.firstName} {userProfile?.lastName}\n            {/* ION-IMG: Render Image */}\n            <IonImg src={welcomeImg}></IonImg>\n            <h4>\n              We at Studypelago would like to thank you for trying our service.{\" \"}\n              <p></p>\n              Would you like to find a tutor immediately or have a quick tour of\n              our app?\n            </h4>\n            <IonButton routerLink={\"/commerce/product\"}>FIND A TUTOR</IonButton>\n            <IonButton\n              onClick={() => {\n                doEndFirstRun();\n                setShowModal(false);\n              }}\n            >\n              TOUR STUDYPELAGO\n            </IonButton>\n          </IonModal>\n        ) : null}\n\n        {/* use firebase auth api to get current user, and\n         render the json response */}\n        <pre>{JSON.stringify(userProfile, null, 2)}</pre>\n\n        {/* TERNARY OP: ROLE = TUTOR */}\n        {userProfile?.role === \"Tutor\" ? (\n          <IonTabs>\n            <IonRouterOutlet>\n              <Redirect exact path=\"/tabs\" to=\"/tabs/timeline\" />\n              {/*\n          NB: Render - Cuts down on # of renders\n              Component Prop - component depends on the RouterComponentProps passed in automatically.\n        */}\n              <Route\n                path=\"/tabs/TimelineTab\"\n                render={() => <TabT />}\n                exact={true}\n              />\n              <Route\n                path=\"/tabs/TutorCenterTab\"\n                render={() => <TabTC />}\n                exact={true}\n              />\n              <Route\n                path=\"/tabs/CourseCenterTab\"\n                render={() => <TabCC />}\n                exact={true}\n              />\n            </IonRouterOutlet>\n            <IonTabBar slot=\"bottom\">\n              <IonTabButton tab=\"TimelineTab\" href=\"/tabs/timeline\">\n                <IonIcon icon={home} />\n                <IonLabel>Timeline</IonLabel>\n              </IonTabButton>\n\n              <IonTabButton tab=\"TutorCenterTab\" href=\"/tabs/tutor-center\">\n                <IonIcon icon={calendar} />\n                <IonLabel>Tutor Center</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"CourseCenterTab\" href=\"/tabs/course-center\">\n                <IonIcon icon={pencil} />\n                <IonLabel>Course Center</IonLabel>\n              </IonTabButton>\n            </IonTabBar>\n          </IonTabs>\n        ) : (\n          /* TERNARY OP: ROLE = STUDENT OR PARENT */\n          <IonTabs>\n            <IonRouterOutlet>\n              <Redirect exact path=\"/tabs\" to=\"/tabs/timeline\" />\n              <Route\n                path=\"/tabs/TimelineTab\"\n                render={() => <TabT />}\n                exact={true}\n              />\n              <Route\n                path=\"/tabs/StudyIslandTab\"\n                render={() => <TabSI />}\n                exact={true}\n              />\n              <Route\n                path=\"/tabs/FindTutorTab\"\n                render={() => <TabFT />}\n                exact={true}\n              />\n            </IonRouterOutlet>\n            <IonTabBar slot=\"bottom\">\n              <IonTabButton tab=\"TimelineTab\" href=\"/tabs/timeline\">\n                <IonIcon icon={home} />\n                <IonLabel>Timeline</IonLabel>\n              </IonTabButton>\n\n              <IonTabButton tab=\"StudyIslandTab\" href=\"/tabs/study-island\">\n                <IonIcon icon={compass} />\n                <IonLabel>Study Island</IonLabel>\n              </IonTabButton>\n              <IonTabButton tab=\"FindTutorTab\" href=\"/tabs/find-tutor\">\n                <IonIcon icon={search} />\n                <IonLabel>Find A Tutor</IonLabel>\n              </IonTabButton>\n            </IonTabBar>\n          </IonTabs>\n        )}\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}