{"ast":null,"code":"var _jsxFileName = \"/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/ProfilePage.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonButton, IonButtons, IonContent, IonHeader, IonLoading, IonMenuButton, IonPage, IonTitle, IonToolbar } from \"@ionic/react\";\nimport { useEffect, useState } from \"react\";\nimport { firebaseAuth, firebaseStorage } from \"../store/firebase\";\nimport \"./Page.css\"; // import img\n\nimport iconImg from \"../assets/img/user-icon.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProfilePage = () => {\n  _s();\n\n  var _firebaseAuth$current2;\n\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [currentURL, setCurrentURL] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [image, setImage] = useState(\"\");\n\n  const uploadToFirebase = () => {\n    var _firebaseAuth$current;\n\n    setUploading(true);\n    const fileName = (_firebaseAuth$current = firebaseAuth.currentUser) === null || _firebaseAuth$current === void 0 ? void 0 : _firebaseAuth$current.uid;\n    const imageRef = firebaseStorage().ref(`/profiles/${fileName}`);\n    const task = imageRef.put(selectedFile);\n    const unsub = task.on(firebaseStorage.TaskEvent.STATE_CHANGED, snapShot => {\n      // IN PROGRESS\n      console.log(snapShot.bytesTransferred / snapShot.totalBytes);\n    }, error => {\n      // ERROR\n      console.log(error);\n    }, async () => {\n      // COMPLETE\n      const url = await task.snapshot.ref.getDownloadURL();\n      setCurrentURL(url);\n      setUploading(false);\n      unsub();\n    });\n  }; // get user profile information\n\n\n  useEffect(() => {\n    const getUserInfo = async user => {\n      if (user) {}\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      class: \"ion-no-border\",\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IonButtons, {\n          slot: \"start\",\n          children: /*#__PURE__*/_jsxDEV(IonMenuButton, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      fullscreen: true,\n      children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n        collapse: \"condense\",\n        children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n          children: /*#__PURE__*/_jsxDEV(IonTitle, {\n            size: \"large\",\n            children: \"Profile Page\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: [\"USER ID: \", (_firebaseAuth$current2 = firebaseAuth.currentUser) === null || _firebaseAuth$current2 === void 0 ? void 0 : _firebaseAuth$current2.uid]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: \"Profile Picture:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: iconImg,\n        width: \"100\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: \"Upload A New Profile Picture:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), uploading ? /*#__PURE__*/_jsxDEV(IonLoading, {\n        isOpen: uploading,\n        message: \"Uploading File\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: event => {\n          setSelectedFile(event.target.files[0]);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"SELECTED FILE \", selectedFile === null || selectedFile === void 0 ? void 0 : selectedFile.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n        onClick: uploadToFirebase,\n        size: \"small\",\n        children: \"UPLOAD PICTURE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: currentURL,\n        width: \"200\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ProfilePage, \"NggJMKBNwUp80vqagtjtis62DKk=\");\n\n_c = ProfilePage;\nexport default ProfilePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfilePage\");","map":{"version":3,"sources":["/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/ProfilePage.tsx"],"names":["IonButton","IonButtons","IonContent","IonHeader","IonLoading","IonMenuButton","IonPage","IonTitle","IonToolbar","useEffect","useState","firebaseAuth","firebaseStorage","iconImg","ProfilePage","selectedFile","setSelectedFile","currentURL","setCurrentURL","uploading","setUploading","image","setImage","uploadToFirebase","fileName","currentUser","uid","imageRef","ref","task","put","unsub","on","TaskEvent","STATE_CHANGED","snapShot","console","log","bytesTransferred","totalBytes","error","url","snapshot","getDownloadURL","getUserInfo","user","event","target","files","name"],"mappings":"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","sourcesContent":["import {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonHeader,\n  IonImg,\n  IonLoading,\n  IonMenuButton,\n  IonPage,\n  IonTitle,\n  IonToolbar,\n} from \"@ionic/react\";\nimport { useEffect, useState } from \"react\";\nimport { firebaseAuth, firebaseApp, firebaseStorage } from \"../store/firebase\";\nimport \"./Page.css\";\n// import img\nimport iconImg from \"../assets/img/user-icon.png\";\n\nconst ProfilePage: React.FC = () => {\n  const [selectedFile, setSelectedFile] = useState<any>(null);\n  const [currentURL, setCurrentURL] = useState<any>(null);\n  const [uploading, setUploading] = useState<any>(false);\n\n  const [image, setImage] = useState<any>(\"\");\n\n  const uploadToFirebase = () => {\n    setUploading(true);\n    const fileName = firebaseAuth.currentUser?.uid;\n    const imageRef = firebaseStorage().ref(`/profiles/${fileName}`);\n    const task = imageRef.put(selectedFile);\n    const unsub = task.on(\n      firebaseStorage.TaskEvent.STATE_CHANGED,\n      (snapShot) => {\n        // IN PROGRESS\n        console.log(snapShot.bytesTransferred / snapShot.totalBytes);\n      },\n      (error) => {\n        // ERROR\n        console.log(error);\n      },\n      async () => {\n        // COMPLETE\n        const url = await task.snapshot.ref.getDownloadURL();\n        setCurrentURL(url);\n        setUploading(false);\n        unsub();\n      }\n    );\n  };\n\n  // get user profile information\n  useEffect(() => {\n    const getUserInfo = async (user: any) => {\n      if (user) {\n      }\n    };\n  }, []);\n\n  return (\n    <IonPage>\n      <IonHeader class=\"ion-no-border\">\n        <IonToolbar>\n          <IonButtons slot=\"start\">\n            <IonMenuButton />\n          </IonButtons>\n          <IonTitle>Profile</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen>\n        <IonHeader collapse=\"condense\">\n          <IonToolbar>\n            <IonTitle size=\"large\">Profile Page</IonTitle>\n          </IonToolbar>\n        </IonHeader>\n        <pre>USER ID: {firebaseAuth.currentUser?.uid}</pre>\n        <pre>Profile Picture:</pre>\n        {/* TODO: CODE PROFILE IMAGE REPLACEMENT */}\n        <img src={iconImg} width=\"100\" />\n\n        <br></br>\n        <br></br>\n        <br></br>\n        <pre>Upload A New Profile Picture:</pre>\n        {uploading ? (\n          <IonLoading isOpen={uploading} message=\"Uploading File\"></IonLoading>\n        ) : null}\n        <input\n          type=\"file\"\n          onChange={(event: any) => {\n            setSelectedFile(event.target.files[0]);\n          }}\n        ></input>\n        <p>SELECTED FILE {selectedFile?.name}</p>\n\n        <IonButton onClick={uploadToFirebase} size=\"small\">\n          UPLOAD PICTURE\n        </IonButton>\n\n        <br></br>\n        <img src={currentURL} width=\"200\" />\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}