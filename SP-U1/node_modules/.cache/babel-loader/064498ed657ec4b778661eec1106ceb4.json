{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tm/Documents/CODE/STUDYPELAGO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tm/Documents/CODE/STUDYPELAGO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tm/Documents/CODE/STUDYPELAGO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonButton,IonContent,IonHeader,IonInput,IonItem,IonLabel,IonPage,IonRadio,IonRadioGroup,IonListHeader,IonTitle,IonToolbar,useIonAlert,IonSelect,IonSelectOption}from\"@ionic/react\";import firebase from\"firebase\";import{useState}from\"react\";import{useHistory}from\"react-router\";// import firebase client\nimport{firebaseAuth,firebaseApp}from\"../../store/firebase\";// START OF COMPONENT\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateAccountPage=function CreateAccountPage(){// for routing between pages\nvar history=useHistory();// variables from the page that are needed to create\n// the user\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),age=_useState6[0],setAge=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),role=_useState12[0],setRole=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),country=_useState14[0],setCountry=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),island=_useState16[0],setIsland=_useState16[1];var _useState17=useState(\"\"),_useState18=_slicedToArray(_useState17,2),streetAddr=_useState18[0],setStreetAddr=_useState18[1];// used to render platform specific alerts\nvar _useIonAlert=useIonAlert(),_useIonAlert2=_slicedToArray(_useIonAlert,1),present=_useIonAlert2[0];var doCreateAccount=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _response$user,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return firebaseAuth.createUserWithEmailAndPassword(email,password);case 3:response=_context.sent;// STEP 2 - ADD USER INFO TO PROFILE\n// writing to firebase databases...\n//\n// Overview\n// https://firebase.google.com/docs/firestore/quickstart?authuser=0\n//\n// Adding Data\n// https://firebase.google.com/docs/firestore/manage-data/add-data?authuser=0\nfirebaseApp.firestore().collection(\"users\").doc((_response$user=response.user)===null||_response$user===void 0?void 0:_response$user.uid).set({firstName:firstName,lastName:lastName,age:age,email:email,username:email,role:role,country:country,island:island,streetAddr:streetAddr,firstRun:1,// Set to 1 to indicate that the user has completed the setup\nupdated_at:firebase.firestore.Timestamp.now()});// if no error, then render home page\nhistory.replace(\"/home\");_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(!_context.t0){_context.next=13;break;}present({header:\"Error Creating Account\",message:_context.t0===null||_context.t0===void 0?void 0:_context.t0.message,buttons:[\"OK\"]});return _context.abrupt(\"return\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function doCreateAccount(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:\"CREATE ACCOUNT\"})})}),/*#__PURE__*/_jsxs(IonContent,{fullscreen:true,className:\"ion-padding\",children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"First Name\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(event){return setFirstName(event.target.value);}})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"Last Name\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(event){return setLastName(event.target.value);}})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\" Age\"}),/*#__PURE__*/_jsxs(IonSelect,{onIonChange:function onIonChange(event){return setAge(event.target.value);},children:[/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Five\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Six\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Seven\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Eight\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Nine\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Ten\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"00\",children:\"Eleven\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"12\",children:\"Twelve\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"13\",children:\"Thirteen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"14\",children:\"Fourteen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"15\",children:\"Fifteen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"16\",children:\"Sixteen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"17\",children:\"Seventeen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"18\",children:\"Eighteen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"19\",children:\"Nineteen\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"20\",children:\"Twenty\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"21\",children:\"Twenty-One\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"22\",children:\"Twenty-Two\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"23\",children:\"Twenty-Three\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"24\",children:\"Twenty-Four\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"25\",children:\"Twenty-Five\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"26\",children:\"Twenty-Six\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"27\",children:\"Twenty-Seven\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"28\",children:\"Twenty-Eight\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"29\",children:\"Twenty-Nine\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"30\",children:\"Thirty\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"31\",children:\"Thirty-One\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"32\",children:\"Thirty-Two\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"33\",children:\"Thirty-Three\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"34\",children:\"Thirty-Four\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"35\",children:\"Thirty-Five\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"36\",children:\"Thirty-Six\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"37\",children:\"Thirty-Seven\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"38\",children:\"Thirty-Eight\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"39\",children:\"Thirty-Nine\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"40\",children:\"Forty\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"41\",children:\"Forty-One\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"42\",children:\"Forty-Two\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"43\",children:\"Forty-Three\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"44\",children:\"Forty-Four\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"45\",children:\"Forty-Five\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"46\",children:\"Forty-Six\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"47\",children:\"Forty-Seven\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"48\",children:\"Forty-Eight\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"49\",children:\"Forty-Nine\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"50\",children:\"Fifty\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"51\",children:\"Fifty-One\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"52\",children:\"Fifty-Two\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"53\",children:\"Fifty-Three\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"54\",children:\"Fifty-Four\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"55\",children:\"Fifty-Five\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"56\",children:\"Fifty-Six\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"57\",children:\"Fifty-Seven\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"58\",children:\"Fifty-Eight\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"59\",children:\"Fifty-Nine\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"60\",children:\"Sixty\"})]})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"email\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",onIonChange:function onIonChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonRadioGroup,{value:role,onIonChange:function onIonChange(event){return setRole(event.target.value);},children:[/*#__PURE__*/_jsx(IonListHeader,{children:/*#__PURE__*/_jsx(IonLabel,{children:\"Role:\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\"Student\"}),/*#__PURE__*/_jsx(IonRadio,{slot:\"start\",value:\"Student\"})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\"Parent\"}),/*#__PURE__*/_jsx(IonRadio,{slot:\"start\",value:\"Parent\"})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\"Tutor\"}),/*#__PURE__*/_jsx(IonRadio,{slot:\"start\",value:\"Tutor\"})]})]})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\"Country\"}),/*#__PURE__*/_jsxs(IonSelect,{onIonChange:function onIonChange(event){return setCountry(event.target.value);},children:[/*#__PURE__*/_jsx(IonSelectOption,{value:\"BHS\",children:\"Bahamas, The\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"US\",children:\"Jamaica\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"US\",children:\"United States\"})]})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{children:\" Island\"}),/*#__PURE__*/_jsxs(IonSelect,{onIonChange:function onIonChange(event){return setIsland(event.target.value);},children:[/*#__PURE__*/_jsx(IonSelectOption,{value:\"NAA\",children:\"NOT APPLICABLE\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"AB\",children:\"ABACO\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"AN\",children:\"ANDROS\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"BI\",children:\"BIMINI\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"CI\",children:\"CAT ISLAND\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"GB\",children:\"GRAND BAHAMA\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"EL\",children:\"ELEUTHERA\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"LI\",children:\"LONG ISLAND\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"NP\",children:\"NEW PROVIDENCE\"}),/*#__PURE__*/_jsx(IonSelectOption,{value:\"SS\",children:\"NEW PROVIDENCE\"})]})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"Street Address\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(event){return setStreetAddr(event.target.value);}})]}),/*#__PURE__*/_jsx(IonButton,{onClick:function onClick(){return doCreateAccount();},children:\"CREATE ACCOUNT\"}),/*#__PURE__*/_jsx(IonButton,{routerLink:\"/auth/login\",children:\"CANCEL\"})]})]});};export default CreateAccountPage;","map":{"version":3,"sources":["/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/auth/CreateAccountPage.tsx"],"names":["IonButton","IonContent","IonHeader","IonInput","IonItem","IonLabel","IonPage","IonRadio","IonRadioGroup","IonListHeader","IonTitle","IonToolbar","useIonAlert","IonSelect","IonSelectOption","firebase","useState","useHistory","firebaseAuth","firebaseApp","CreateAccountPage","history","firstName","setFirstName","lastName","setLastName","age","setAge","email","setEmail","password","setPassword","role","setRole","country","setCountry","island","setIsland","streetAddr","setStreetAddr","present","doCreateAccount","createUserWithEmailAndPassword","response","firestore","collection","doc","user","uid","set","username","firstRun","updated_at","Timestamp","now","replace","header","message","buttons","event","target","value"],"mappings":"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","sourcesContent":["import {\n  IonButton,\n  IonContent,\n  IonHeader,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonRadio,\n  IonRadioGroup,\n  IonListHeader,\n  IonTitle,\n  IonToolbar,\n  useIonAlert,\n  IonSelect,\n  IonSelectOption,\n} from \"@ionic/react\";\nimport firebase from \"firebase\";\nimport { options } from \"ionicons/icons\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\n\n// import firebase client\nimport { firebaseAuth, firebaseApp } from \"../../store/firebase\";\n\n// START OF COMPONENT\nconst CreateAccountPage: React.FC = () => {\n  // for routing between pages\n  const history = useHistory();\n\n  // variables from the page that are needed to create\n  // the user\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [age, setAge] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [role, setRole] = useState(\"\");\n  const [country, setCountry] = useState(\"\");\n  const [island, setIsland] = useState(\"\");\n  const [streetAddr, setStreetAddr] = useState(\"\");\n\n  // used to render platform specific alerts\n  const [present] = useIonAlert();\n\n  const doCreateAccount = async () => {\n    try {\n      // STEP 1 - CREATE USER\n      // firebase documentation\n      // https://firebase.google.com/docs/auth/web/password-auth?authuser=0\n      const response = await firebaseAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      // STEP 2 - ADD USER INFO TO PROFILE\n      // writing to firebase databases...\n      //\n      // Overview\n      // https://firebase.google.com/docs/firestore/quickstart?authuser=0\n      //\n      // Adding Data\n      // https://firebase.google.com/docs/firestore/manage-data/add-data?authuser=0\n\n      firebaseApp.firestore().collection(\"users\").doc(response.user?.uid).set({\n        firstName,\n        lastName,\n        age,\n        email,\n        username: email,\n        role,\n        country,\n        island,\n        streetAddr,\n        firstRun: 1, // Set to 1 to indicate that the user has completed the setup\n        updated_at: firebase.firestore.Timestamp.now(),\n      });\n\n      // if no error, then render home page\n      history.replace(\"/home\");\n    } catch (error: any) {\n      // error check for adding user profile...\n      if (error) {\n        present({\n          header: \"Error Creating Account\",\n          message: error?.message,\n          buttons: [\"OK\"],\n        });\n        return;\n      }\n    }\n  };\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>CREATE ACCOUNT</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen className=\"ion-padding\">\n        <IonItem>\n          <IonLabel position=\"fixed\">First Name</IonLabel>\n          <IonInput\n            onIonChange={(event: any) => setFirstName(event.target.value)}\n          />\n        </IonItem>\n        <IonItem>\n          <IonLabel position=\"fixed\">Last Name</IonLabel>\n          <IonInput\n            onIonChange={(event: any) => setLastName(event.target.value)}\n          />\n        </IonItem>\n\n        <IonItem>\n          <IonLabel> Age</IonLabel>\n          <IonSelect onIonChange={(event: any) => setAge(event.target.value)}>\n            {/*TODO: DATA VALIDATION: ANY AGE UNDER 12 is NOT ALLOWED ON PLATFORM | GO TO 00 */}\n            <IonSelectOption value=\"00\">Five</IonSelectOption>\n            <IonSelectOption value=\"00\">Six</IonSelectOption>\n            <IonSelectOption value=\"00\">Seven</IonSelectOption>\n            <IonSelectOption value=\"00\">Eight</IonSelectOption>\n            <IonSelectOption value=\"00\">Nine</IonSelectOption>\n            <IonSelectOption value=\"00\">Ten</IonSelectOption>\n            <IonSelectOption value=\"00\">Eleven</IonSelectOption>\n            <IonSelectOption value=\"12\">Twelve</IonSelectOption>\n            <IonSelectOption value=\"13\">Thirteen</IonSelectOption>\n            <IonSelectOption value=\"14\">Fourteen</IonSelectOption>\n            <IonSelectOption value=\"15\">Fifteen</IonSelectOption>\n            <IonSelectOption value=\"16\">Sixteen</IonSelectOption>\n            <IonSelectOption value=\"17\">Seventeen</IonSelectOption>\n            <IonSelectOption value=\"18\">Eighteen</IonSelectOption>\n            <IonSelectOption value=\"19\">Nineteen</IonSelectOption>\n            <IonSelectOption value=\"20\">Twenty</IonSelectOption>\n            <IonSelectOption value=\"21\">Twenty-One</IonSelectOption>\n            <IonSelectOption value=\"22\">Twenty-Two</IonSelectOption>\n            <IonSelectOption value=\"23\">Twenty-Three</IonSelectOption>\n            <IonSelectOption value=\"24\">Twenty-Four</IonSelectOption>\n            <IonSelectOption value=\"25\">Twenty-Five</IonSelectOption>\n            <IonSelectOption value=\"26\">Twenty-Six</IonSelectOption>\n            <IonSelectOption value=\"27\">Twenty-Seven</IonSelectOption>\n            <IonSelectOption value=\"28\">Twenty-Eight</IonSelectOption>\n            <IonSelectOption value=\"29\">Twenty-Nine</IonSelectOption>\n            <IonSelectOption value=\"30\">Thirty</IonSelectOption>\n            <IonSelectOption value=\"31\">Thirty-One</IonSelectOption>\n            <IonSelectOption value=\"32\">Thirty-Two</IonSelectOption>\n            <IonSelectOption value=\"33\">Thirty-Three</IonSelectOption>\n            <IonSelectOption value=\"34\">Thirty-Four</IonSelectOption>\n            <IonSelectOption value=\"35\">Thirty-Five</IonSelectOption>\n            <IonSelectOption value=\"36\">Thirty-Six</IonSelectOption>\n            <IonSelectOption value=\"37\">Thirty-Seven</IonSelectOption>\n            <IonSelectOption value=\"38\">Thirty-Eight</IonSelectOption>\n            <IonSelectOption value=\"39\">Thirty-Nine</IonSelectOption>\n            <IonSelectOption value=\"40\">Forty</IonSelectOption>\n            <IonSelectOption value=\"41\">Forty-One</IonSelectOption>\n            <IonSelectOption value=\"42\">Forty-Two</IonSelectOption>\n            <IonSelectOption value=\"43\">Forty-Three</IonSelectOption>\n            <IonSelectOption value=\"44\">Forty-Four</IonSelectOption>\n            <IonSelectOption value=\"45\">Forty-Five</IonSelectOption>\n            <IonSelectOption value=\"46\">Forty-Six</IonSelectOption>\n            <IonSelectOption value=\"47\">Forty-Seven</IonSelectOption>\n            <IonSelectOption value=\"48\">Forty-Eight</IonSelectOption>\n            <IonSelectOption value=\"49\">Forty-Nine</IonSelectOption>\n            <IonSelectOption value=\"50\">Fifty</IonSelectOption>\n            <IonSelectOption value=\"51\">Fifty-One</IonSelectOption>\n            <IonSelectOption value=\"52\">Fifty-Two</IonSelectOption>\n            <IonSelectOption value=\"53\">Fifty-Three</IonSelectOption>\n            <IonSelectOption value=\"54\">Fifty-Four</IonSelectOption>\n            <IonSelectOption value=\"55\">Fifty-Five</IonSelectOption>\n            <IonSelectOption value=\"56\">Fifty-Six</IonSelectOption>\n            <IonSelectOption value=\"57\">Fifty-Seven</IonSelectOption>\n            <IonSelectOption value=\"58\">Fifty-Eight</IonSelectOption>\n            <IonSelectOption value=\"59\">Fifty-Nine</IonSelectOption>\n            <IonSelectOption value=\"60\">Sixty</IonSelectOption>\n          </IonSelect>\n        </IonItem>\n\n        <IonItem>\n          <IonLabel position=\"fixed\">email</IonLabel>\n          <IonInput\n            onIonChange={(event: any) => setEmail(event.target.value)}\n          />\n        </IonItem>\n        <IonItem>\n          <IonLabel position=\"fixed\">password</IonLabel>\n          <IonInput\n            type=\"password\"\n            onIonChange={(event: any) => setPassword(event.target.value)}\n          />\n        </IonItem>\n\n        <IonItem>\n          <IonRadioGroup\n            value={role}\n            onIonChange={(event: any) => setRole(event.target.value)}\n          >\n            <IonListHeader>\n              <IonLabel>Role:</IonLabel>\n            </IonListHeader>\n\n            <IonItem>\n              <IonLabel>Student</IonLabel>\n              <IonRadio slot=\"start\" value=\"Student\" />\n            </IonItem>\n\n            <IonItem>\n              <IonLabel>Parent</IonLabel>\n              <IonRadio slot=\"start\" value=\"Parent\" />\n            </IonItem>\n\n            <IonItem>\n              <IonLabel>Tutor</IonLabel>\n              <IonRadio slot=\"start\" value=\"Tutor\" />\n            </IonItem>\n          </IonRadioGroup>\n        </IonItem>\n\n        <IonItem>\n          <IonLabel>Country</IonLabel>\n          <IonSelect\n            onIonChange={(event: any) => setCountry(event.target.value)}\n          >\n            <IonSelectOption value=\"BHS\">Bahamas, The</IonSelectOption>\n            <IonSelectOption value=\"US\">Jamaica</IonSelectOption>\n            <IonSelectOption value=\"US\">United States</IonSelectOption>\n          </IonSelect>\n        </IonItem>\n\n        <IonItem>\n          <IonLabel> Island</IonLabel>\n          <IonSelect\n            onIonChange={(event: any) => setIsland(event.target.value)}\n          >\n            <IonSelectOption value=\"NAA\">NOT APPLICABLE</IonSelectOption>\n            <IonSelectOption value=\"AB\">ABACO</IonSelectOption>\n            <IonSelectOption value=\"AN\">ANDROS</IonSelectOption>\n            <IonSelectOption value=\"BI\">BIMINI</IonSelectOption>\n            <IonSelectOption value=\"CI\">CAT ISLAND</IonSelectOption>\n            <IonSelectOption value=\"GB\">GRAND BAHAMA</IonSelectOption>\n            <IonSelectOption value=\"EL\">ELEUTHERA</IonSelectOption>\n            <IonSelectOption value=\"LI\">LONG ISLAND</IonSelectOption>\n            <IonSelectOption value=\"NP\">NEW PROVIDENCE</IonSelectOption>\n            <IonSelectOption value=\"SS\">NEW PROVIDENCE</IonSelectOption>\n          </IonSelect>\n        </IonItem>\n\n        <IonItem>\n          <IonLabel position=\"fixed\">Street Address</IonLabel>\n          <IonInput\n            onIonChange={(event: any) => setStreetAddr(event.target.value)}\n          />\n        </IonItem>\n\n        <IonButton onClick={() => doCreateAccount()}>CREATE ACCOUNT</IonButton>\n        <IonButton routerLink={\"/auth/login\"}>CANCEL</IonButton>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default CreateAccountPage;\n"]},"metadata":{},"sourceType":"module"}