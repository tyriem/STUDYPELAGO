{"ast":null,"code":"import { __awaiter, __generator } from \"tslib\";\nimport { a as addEventListener, b as removeEventListener, r as raf, p as pointerCoord, c as componentOnReady } from \"./helpers-dd7e4b7b.js\";\nvar cloneMap = new WeakMap();\n\nvar relocateInput = function (e, t, n, r) {\n  if (r === void 0) {\n    r = 0;\n  }\n\n  if (cloneMap.has(e) === n) {\n    return;\n  }\n\n  if (n) {\n    addClone(e, t, r);\n  } else {\n    removeClone(e, t);\n  }\n};\n\nvar isFocused = function (e) {\n  return e === e.getRootNode().activeElement;\n};\n\nvar addClone = function (e, t, n) {\n  var r = t.parentNode;\n  var o = t.cloneNode(false);\n  o.classList.add(\"cloned-input\");\n  o.tabIndex = -1;\n  r.appendChild(o);\n  cloneMap.set(e, o);\n  var a = e.ownerDocument;\n  var i = a.dir === \"rtl\" ? 9999 : -9999;\n  e.style.pointerEvents = \"none\";\n  t.style.transform = \"translate3d(\" + i + \"px,\" + n + \"px,0) scale(0)\";\n};\n\nvar removeClone = function (e, t) {\n  var n = cloneMap.get(e);\n\n  if (n) {\n    cloneMap.delete(e);\n    n.remove();\n  }\n\n  e.style.pointerEvents = \"\";\n  t.style.transform = \"\";\n};\n\nvar enableHideCaretOnScroll = function (e, t, n) {\n  if (!n || !t) {\n    return function () {\n      return;\n    };\n  }\n\n  var r = function (n) {\n    if (isFocused(t)) {\n      relocateInput(e, t, n);\n    }\n  };\n\n  var o = function () {\n    return relocateInput(e, t, false);\n  };\n\n  var a = function () {\n    return r(true);\n  };\n\n  var i = function () {\n    return r(false);\n  };\n\n  addEventListener(n, \"ionScrollStart\", a);\n  addEventListener(n, \"ionScrollEnd\", i);\n  t.addEventListener(\"blur\", o);\n  return function () {\n    removeEventListener(n, \"ionScrollStart\", a);\n    removeEventListener(n, \"ionScrollEnd\", i);\n    t.addEventListener(\"ionBlur\", o);\n  };\n};\n\nvar SKIP_SELECTOR = \"input, textarea, [no-blur], [contenteditable]\";\n\nvar enableInputBlurring = function () {\n  var e = true;\n  var t = false;\n  var n = document;\n\n  var r = function () {\n    t = true;\n  };\n\n  var o = function () {\n    e = true;\n  };\n\n  var a = function (r) {\n    if (t) {\n      t = false;\n      return;\n    }\n\n    var o = n.activeElement;\n\n    if (!o) {\n      return;\n    }\n\n    if (o.matches(SKIP_SELECTOR)) {\n      return;\n    }\n\n    var a = r.target;\n\n    if (a === o) {\n      return;\n    }\n\n    if (a.matches(SKIP_SELECTOR) || a.closest(SKIP_SELECTOR)) {\n      return;\n    }\n\n    e = false;\n    setTimeout(function () {\n      if (!e) {\n        o.blur();\n      }\n    }, 50);\n  };\n\n  addEventListener(n, \"ionScrollStart\", r);\n  n.addEventListener(\"focusin\", o, true);\n  n.addEventListener(\"touchend\", a, false);\n  return function () {\n    removeEventListener(n, \"ionScrollStart\", r, true);\n    n.removeEventListener(\"focusin\", o, true);\n    n.removeEventListener(\"touchend\", a, false);\n  };\n};\n\nvar SCROLL_ASSIST_SPEED = .3;\n\nvar getScrollData = function (e, t, n) {\n  var r = e.closest(\"ion-item,[ion-item]\") || e;\n  return calcScrollData(r.getBoundingClientRect(), t.getBoundingClientRect(), n, e.ownerDocument.defaultView.innerHeight);\n};\n\nvar calcScrollData = function (e, t, n, r) {\n  var o = e.top;\n  var a = e.bottom;\n  var i = t.top;\n  var u = Math.min(t.bottom, r - n);\n  var l = i + 15;\n  var s = u * .75;\n  var c = s - a;\n  var v = l - o;\n  var d = Math.round(c < 0 ? -c : v > 0 ? -v : 0);\n  var f = Math.min(d, o - i);\n  var m = Math.abs(f);\n  var p = m / SCROLL_ASSIST_SPEED;\n  var E = Math.min(400, Math.max(150, p));\n  return {\n    scrollAmount: f,\n    scrollDuration: E,\n    scrollPadding: n,\n    inputSafeY: -(o - l) + 4\n  };\n};\n\nvar enableScrollAssist = function (e, t, n, r, o) {\n  var a;\n\n  var i = function (e) {\n    a = pointerCoord(e);\n  };\n\n  var u = function (i) {\n    if (!a) {\n      return;\n    }\n\n    var u = pointerCoord(i);\n\n    if (!hasPointerMoved(6, a, u) && !isFocused(t)) {\n      i.stopPropagation();\n      jsSetFocus(e, t, n, r, o);\n    }\n  };\n\n  e.addEventListener(\"touchstart\", i, true);\n  e.addEventListener(\"touchend\", u, true);\n  return function () {\n    e.removeEventListener(\"touchstart\", i, true);\n    e.removeEventListener(\"touchend\", u, true);\n  };\n};\n\nvar jsSetFocus = function (e, t, n, r, o) {\n  return __awaiter(void 0, void 0, void 0, function () {\n    var a, i, u, l, s, c;\n    return __generator(this, function (v) {\n      switch (v.label) {\n        case 0:\n          if (!n && !r) {\n            return [2];\n          }\n\n          a = getScrollData(e, n || r, o);\n\n          if (n && Math.abs(a.scrollAmount) < 4) {\n            t.focus();\n            return [2];\n          }\n\n          relocateInput(e, t, true, a.inputSafeY);\n          t.focus();\n          raf(function () {\n            return e.click();\n          });\n          if (!(typeof window !== \"undefined\")) return [3, 3];\n\n          u = function () {\n            return __awaiter(void 0, void 0, void 0, function () {\n              return __generator(this, function (r) {\n                switch (r.label) {\n                  case 0:\n                    if (i !== undefined) {\n                      clearTimeout(i);\n                    }\n\n                    window.removeEventListener(\"ionKeyboardDidShow\", l);\n                    window.removeEventListener(\"ionKeyboardDidShow\", u);\n                    if (!n) return [3, 2];\n                    return [4, n.scrollByPoint(0, a.scrollAmount, a.scrollDuration)];\n\n                  case 1:\n                    r.sent();\n                    r.label = 2;\n\n                  case 2:\n                    relocateInput(e, t, false, a.inputSafeY);\n                    t.focus();\n                    return [2];\n                }\n              });\n            });\n          };\n\n          l = function () {\n            window.removeEventListener(\"ionKeyboardDidShow\", l);\n            window.addEventListener(\"ionKeyboardDidShow\", u);\n          };\n\n          if (!n) return [3, 2];\n          return [4, n.getScrollElement()];\n\n        case 1:\n          s = v.sent();\n          c = s.scrollHeight - s.clientHeight;\n\n          if (a.scrollAmount > c - s.scrollTop) {\n            if (t.type === \"password\") {\n              a.scrollAmount += 50;\n              window.addEventListener(\"ionKeyboardDidShow\", l);\n            } else {\n              window.addEventListener(\"ionKeyboardDidShow\", u);\n            }\n\n            i = setTimeout(u, 1e3);\n            return [2];\n          }\n\n          v.label = 2;\n\n        case 2:\n          u();\n          v.label = 3;\n\n        case 3:\n          return [2];\n      }\n    });\n  });\n};\n\nvar hasPointerMoved = function (e, t, n) {\n  if (t && n) {\n    var r = t.x - n.x;\n    var o = t.y - n.y;\n    var a = r * r + o * o;\n    return a > e * e;\n  }\n\n  return false;\n};\n\nvar PADDING_TIMER_KEY = \"$ionPaddingTimer\";\n\nvar enableScrollPadding = function (e) {\n  var t = document;\n\n  var n = function (t) {\n    setScrollPadding(t.target, e);\n  };\n\n  var r = function (e) {\n    setScrollPadding(e.target, 0);\n  };\n\n  t.addEventListener(\"focusin\", n);\n  t.addEventListener(\"focusout\", r);\n  return function () {\n    t.removeEventListener(\"focusin\", n);\n    t.removeEventListener(\"focusout\", r);\n  };\n};\n\nvar setScrollPadding = function (e, t) {\n  if (e.tagName !== \"INPUT\") {\n    return;\n  }\n\n  if (e.parentElement && e.parentElement.tagName === \"ION-INPUT\") {\n    return;\n  }\n\n  if (e.parentElement && e.parentElement.parentElement && e.parentElement.parentElement.tagName === \"ION-SEARCHBAR\") {\n    return;\n  }\n\n  var n = e.closest(\"ion-content\");\n\n  if (n === null) {\n    return;\n  }\n\n  var r = n[PADDING_TIMER_KEY];\n\n  if (r) {\n    clearTimeout(r);\n  }\n\n  if (t > 0) {\n    n.style.setProperty(\"--keyboard-offset\", t + \"px\");\n  } else {\n    n[PADDING_TIMER_KEY] = setTimeout(function () {\n      n.style.setProperty(\"--keyboard-offset\", \"0px\");\n    }, 120);\n  }\n};\n\nvar INPUT_BLURRING = true;\nvar SCROLL_PADDING = true;\n\nvar startInputShims = function (e) {\n  var t = document;\n  var n = e.getNumber(\"keyboardHeight\", 290);\n  var r = e.getBoolean(\"scrollAssist\", true);\n  var o = e.getBoolean(\"hideCaretOnScroll\", true);\n  var a = e.getBoolean(\"inputBlurring\", true);\n  var i = e.getBoolean(\"scrollPadding\", true);\n  var u = Array.from(t.querySelectorAll(\"ion-input, ion-textarea\"));\n  var l = new WeakMap();\n  var s = new WeakMap();\n\n  var c = function (e) {\n    return __awaiter(void 0, void 0, void 0, function () {\n      var t, a, i, u, c, c;\n      return __generator(this, function (v) {\n        switch (v.label) {\n          case 0:\n            return [4, new Promise(function (t) {\n              return componentOnReady(e, t);\n            })];\n\n          case 1:\n            v.sent();\n            t = e.shadowRoot || e;\n            a = t.querySelector(\"input\") || t.querySelector(\"textarea\");\n            i = e.closest(\"ion-content\");\n            u = !i ? e.closest(\"ion-footer\") : null;\n\n            if (!a) {\n              return [2];\n            }\n\n            if (!!i && o && !l.has(e)) {\n              c = enableHideCaretOnScroll(e, a, i);\n              l.set(e, c);\n            }\n\n            if ((!!i || !!u) && r && !s.has(e)) {\n              c = enableScrollAssist(e, a, i, u, n);\n              s.set(e, c);\n            }\n\n            return [2];\n        }\n      });\n    });\n  };\n\n  var v = function (e) {\n    if (o) {\n      var t = l.get(e);\n\n      if (t) {\n        t();\n      }\n\n      l.delete(e);\n    }\n\n    if (r) {\n      var t = s.get(e);\n\n      if (t) {\n        t();\n      }\n\n      s.delete(e);\n    }\n  };\n\n  if (a && INPUT_BLURRING) {\n    enableInputBlurring();\n  }\n\n  if (i && SCROLL_PADDING) {\n    enableScrollPadding(n);\n  }\n\n  for (var d = 0, f = u; d < f.length; d++) {\n    var m = f[d];\n    c(m);\n  }\n\n  t.addEventListener(\"ionInputDidLoad\", function (e) {\n    c(e.detail);\n  });\n  t.addEventListener(\"ionInputDidUnload\", function (e) {\n    v(e.detail);\n  });\n};\n\nexport { startInputShims };","map":{"version":3,"sources":["/Users/tm/Documents/CODE/ION/STUDYPELAGO/node_modules/@ionic/core/dist/esm-es5/input-shims-73f15161.js"],"names":["__awaiter","__generator","a","addEventListener","b","removeEventListener","r","raf","p","pointerCoord","c","componentOnReady","cloneMap","WeakMap","relocateInput","e","t","n","has","addClone","removeClone","isFocused","getRootNode","activeElement","parentNode","o","cloneNode","classList","add","tabIndex","appendChild","set","ownerDocument","i","dir","style","pointerEvents","transform","get","delete","remove","enableHideCaretOnScroll","SKIP_SELECTOR","enableInputBlurring","document","matches","target","closest","setTimeout","blur","SCROLL_ASSIST_SPEED","getScrollData","calcScrollData","getBoundingClientRect","defaultView","innerHeight","top","bottom","u","Math","min","l","s","v","d","round","f","m","abs","E","max","scrollAmount","scrollDuration","scrollPadding","inputSafeY","enableScrollAssist","hasPointerMoved","stopPropagation","jsSetFocus","label","focus","click","window","undefined","clearTimeout","scrollByPoint","sent","getScrollElement","scrollHeight","clientHeight","scrollTop","type","x","y","PADDING_TIMER_KEY","enableScrollPadding","setScrollPadding","tagName","parentElement","setProperty","INPUT_BLURRING","SCROLL_PADDING","startInputShims","getNumber","getBoolean","Array","from","querySelectorAll","Promise","shadowRoot","querySelector","length","detail"],"mappings":"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","sourcesContent":["import{__awaiter,__generator}from\"tslib\";import{a as addEventListener,b as removeEventListener,r as raf,p as pointerCoord,c as componentOnReady}from\"./helpers-dd7e4b7b.js\";var cloneMap=new WeakMap;var relocateInput=function(e,t,n,r){if(r===void 0){r=0}if(cloneMap.has(e)===n){return}if(n){addClone(e,t,r)}else{removeClone(e,t)}};var isFocused=function(e){return e===e.getRootNode().activeElement};var addClone=function(e,t,n){var r=t.parentNode;var o=t.cloneNode(false);o.classList.add(\"cloned-input\");o.tabIndex=-1;r.appendChild(o);cloneMap.set(e,o);var a=e.ownerDocument;var i=a.dir===\"rtl\"?9999:-9999;e.style.pointerEvents=\"none\";t.style.transform=\"translate3d(\"+i+\"px,\"+n+\"px,0) scale(0)\"};var removeClone=function(e,t){var n=cloneMap.get(e);if(n){cloneMap.delete(e);n.remove()}e.style.pointerEvents=\"\";t.style.transform=\"\"};var enableHideCaretOnScroll=function(e,t,n){if(!n||!t){return function(){return}}var r=function(n){if(isFocused(t)){relocateInput(e,t,n)}};var o=function(){return relocateInput(e,t,false)};var a=function(){return r(true)};var i=function(){return r(false)};addEventListener(n,\"ionScrollStart\",a);addEventListener(n,\"ionScrollEnd\",i);t.addEventListener(\"blur\",o);return function(){removeEventListener(n,\"ionScrollStart\",a);removeEventListener(n,\"ionScrollEnd\",i);t.addEventListener(\"ionBlur\",o)}};var SKIP_SELECTOR=\"input, textarea, [no-blur], [contenteditable]\";var enableInputBlurring=function(){var e=true;var t=false;var n=document;var r=function(){t=true};var o=function(){e=true};var a=function(r){if(t){t=false;return}var o=n.activeElement;if(!o){return}if(o.matches(SKIP_SELECTOR)){return}var a=r.target;if(a===o){return}if(a.matches(SKIP_SELECTOR)||a.closest(SKIP_SELECTOR)){return}e=false;setTimeout((function(){if(!e){o.blur()}}),50)};addEventListener(n,\"ionScrollStart\",r);n.addEventListener(\"focusin\",o,true);n.addEventListener(\"touchend\",a,false);return function(){removeEventListener(n,\"ionScrollStart\",r,true);n.removeEventListener(\"focusin\",o,true);n.removeEventListener(\"touchend\",a,false)}};var SCROLL_ASSIST_SPEED=.3;var getScrollData=function(e,t,n){var r=e.closest(\"ion-item,[ion-item]\")||e;return calcScrollData(r.getBoundingClientRect(),t.getBoundingClientRect(),n,e.ownerDocument.defaultView.innerHeight)};var calcScrollData=function(e,t,n,r){var o=e.top;var a=e.bottom;var i=t.top;var u=Math.min(t.bottom,r-n);var l=i+15;var s=u*.75;var c=s-a;var v=l-o;var d=Math.round(c<0?-c:v>0?-v:0);var f=Math.min(d,o-i);var m=Math.abs(f);var p=m/SCROLL_ASSIST_SPEED;var E=Math.min(400,Math.max(150,p));return{scrollAmount:f,scrollDuration:E,scrollPadding:n,inputSafeY:-(o-l)+4}};var enableScrollAssist=function(e,t,n,r,o){var a;var i=function(e){a=pointerCoord(e)};var u=function(i){if(!a){return}var u=pointerCoord(i);if(!hasPointerMoved(6,a,u)&&!isFocused(t)){i.stopPropagation();jsSetFocus(e,t,n,r,o)}};e.addEventListener(\"touchstart\",i,true);e.addEventListener(\"touchend\",u,true);return function(){e.removeEventListener(\"touchstart\",i,true);e.removeEventListener(\"touchend\",u,true)}};var jsSetFocus=function(e,t,n,r,o){return __awaiter(void 0,void 0,void 0,(function(){var a,i,u,l,s,c;return __generator(this,(function(v){switch(v.label){case 0:if(!n&&!r){return[2]}a=getScrollData(e,n||r,o);if(n&&Math.abs(a.scrollAmount)<4){t.focus();return[2]}relocateInput(e,t,true,a.inputSafeY);t.focus();raf((function(){return e.click()}));if(!(typeof window!==\"undefined\"))return[3,3];u=function(){return __awaiter(void 0,void 0,void 0,(function(){return __generator(this,(function(r){switch(r.label){case 0:if(i!==undefined){clearTimeout(i)}window.removeEventListener(\"ionKeyboardDidShow\",l);window.removeEventListener(\"ionKeyboardDidShow\",u);if(!n)return[3,2];return[4,n.scrollByPoint(0,a.scrollAmount,a.scrollDuration)];case 1:r.sent();r.label=2;case 2:relocateInput(e,t,false,a.inputSafeY);t.focus();return[2]}}))}))};l=function(){window.removeEventListener(\"ionKeyboardDidShow\",l);window.addEventListener(\"ionKeyboardDidShow\",u)};if(!n)return[3,2];return[4,n.getScrollElement()];case 1:s=v.sent();c=s.scrollHeight-s.clientHeight;if(a.scrollAmount>c-s.scrollTop){if(t.type===\"password\"){a.scrollAmount+=50;window.addEventListener(\"ionKeyboardDidShow\",l)}else{window.addEventListener(\"ionKeyboardDidShow\",u)}i=setTimeout(u,1e3);return[2]}v.label=2;case 2:u();v.label=3;case 3:return[2]}}))}))};var hasPointerMoved=function(e,t,n){if(t&&n){var r=t.x-n.x;var o=t.y-n.y;var a=r*r+o*o;return a>e*e}return false};var PADDING_TIMER_KEY=\"$ionPaddingTimer\";var enableScrollPadding=function(e){var t=document;var n=function(t){setScrollPadding(t.target,e)};var r=function(e){setScrollPadding(e.target,0)};t.addEventListener(\"focusin\",n);t.addEventListener(\"focusout\",r);return function(){t.removeEventListener(\"focusin\",n);t.removeEventListener(\"focusout\",r)}};var setScrollPadding=function(e,t){if(e.tagName!==\"INPUT\"){return}if(e.parentElement&&e.parentElement.tagName===\"ION-INPUT\"){return}if(e.parentElement&&e.parentElement.parentElement&&e.parentElement.parentElement.tagName===\"ION-SEARCHBAR\"){return}var n=e.closest(\"ion-content\");if(n===null){return}var r=n[PADDING_TIMER_KEY];if(r){clearTimeout(r)}if(t>0){n.style.setProperty(\"--keyboard-offset\",t+\"px\")}else{n[PADDING_TIMER_KEY]=setTimeout((function(){n.style.setProperty(\"--keyboard-offset\",\"0px\")}),120)}};var INPUT_BLURRING=true;var SCROLL_PADDING=true;var startInputShims=function(e){var t=document;var n=e.getNumber(\"keyboardHeight\",290);var r=e.getBoolean(\"scrollAssist\",true);var o=e.getBoolean(\"hideCaretOnScroll\",true);var a=e.getBoolean(\"inputBlurring\",true);var i=e.getBoolean(\"scrollPadding\",true);var u=Array.from(t.querySelectorAll(\"ion-input, ion-textarea\"));var l=new WeakMap;var s=new WeakMap;var c=function(e){return __awaiter(void 0,void 0,void 0,(function(){var t,a,i,u,c,c;return __generator(this,(function(v){switch(v.label){case 0:return[4,new Promise((function(t){return componentOnReady(e,t)}))];case 1:v.sent();t=e.shadowRoot||e;a=t.querySelector(\"input\")||t.querySelector(\"textarea\");i=e.closest(\"ion-content\");u=!i?e.closest(\"ion-footer\"):null;if(!a){return[2]}if(!!i&&o&&!l.has(e)){c=enableHideCaretOnScroll(e,a,i);l.set(e,c)}if((!!i||!!u)&&r&&!s.has(e)){c=enableScrollAssist(e,a,i,u,n);s.set(e,c)}return[2]}}))}))};var v=function(e){if(o){var t=l.get(e);if(t){t()}l.delete(e)}if(r){var t=s.get(e);if(t){t()}s.delete(e)}};if(a&&INPUT_BLURRING){enableInputBlurring()}if(i&&SCROLL_PADDING){enableScrollPadding(n)}for(var d=0,f=u;d<f.length;d++){var m=f[d];c(m)}t.addEventListener(\"ionInputDidLoad\",(function(e){c(e.detail)}));t.addEventListener(\"ionInputDidUnload\",(function(e){v(e.detail)}))};export{startInputShims};"]},"metadata":{},"sourceType":"module"}