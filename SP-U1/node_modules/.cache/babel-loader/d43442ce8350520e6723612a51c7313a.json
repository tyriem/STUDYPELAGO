{"ast":null,"code":"var _jsxFileName = \"/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/tabs/CourseCenterTab.tsx\",\n    _s = $RefreshSig$();\n\nimport { IonButton, IonButtons, IonContent, IonFooter, IonHeader, IonImg, IonInput, IonItem, IonLabel, IonLoading, IonPage, IonTextarea, IonTitle, IonToolbar, useIonAlert } from \"@ionic/react\";\nimport { useRef, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { addStuff, saveImage } from \"../../data/data-services\";\nimport \"../Page.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CourseCenterTab = () => {\n  _s();\n\n  const history = useHistory();\n  const fileUpload = useRef(null);\n  const [loading, setLoading] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [photo, setPhoto] = useState(null); // used to render platform specific alerts\n\n  const [present] = useIonAlert();\n\n  const doAddStuff = async () => {\n    try {\n      setLoading(true); // STEP 1 - SAVE IMAGE TO FIREBASE STORAGE\n\n      const {\n        data: imageData,\n        error: imageError\n      } = await saveImage(photo);\n\n      if (imageError) {\n        throw imageError;\n      } // STEP 2 - ADD PRODUCT INFO TO DATABASE, INCLUDE LINK\n      // TO IMAGE IN FIREBASE STORAGE\n\n\n      const {\n        data,\n        error\n      } = await addStuff({\n        name,\n        description,\n        imageData\n      });\n      setLoading(false); // if no error, then render home page\n\n      history.replace(\"/home\");\n    } catch (error) {\n      setLoading(false); // error check for adding product...\n\n      if (error) {\n        present({\n          header: \"Error Creating New stuff\",\n          message: error === null || error === void 0 ? void 0 : error.message,\n          buttons: [\"OK\"]\n        });\n        return;\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(IonPage, {\n    children: [/*#__PURE__*/_jsxDEV(IonHeader, {\n      children: /*#__PURE__*/_jsxDEV(IonToolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IonButtons, {\n          slot: \"start\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonTitle, {\n          children: \"Course Center\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonContent, {\n      fullscreen: true,\n      className: \"ion-padding\",\n      children: [loading ? /*#__PURE__*/_jsxDEV(IonLoading, {\n        isOpen: loading,\n        message: \"Saving Record\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"p\", {\n        children: photo ? /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            width: 300\n          },\n          children: /*#__PURE__*/_jsxDEV(IonImg, {\n            src: URL.createObjectURL(photo)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this) : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: fileUpload,\n        type: \"file\",\n        style: {\n          display: \"none\"\n        },\n        onChange: e => {\n          var _e$target, _e$target2;\n\n          return setPhoto((e === null || e === void 0 ? void 0 : (_e$target = e.target) === null || _e$target === void 0 ? void 0 : _e$target.files) ? e === null || e === void 0 ? void 0 : (_e$target2 = e.target) === null || _e$target2 === void 0 ? void 0 : _e$target2.files[0] : null);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(IonButton, {\n          onClick: () => fileUpload.current.click(),\n          children: \"Get Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n          onClick: () => setPhoto(null),\n          children: \"Clear Image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n        children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n          position: \"fixed\",\n          children: \"Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonInput, {\n          onIonChange: event => setName(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonItem, {\n        children: [/*#__PURE__*/_jsxDEV(IonLabel, {\n          position: \"fixed\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IonTextarea, {\n          onIonChange: event => setDescription(event.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(IonFooter, {\n      children: [/*#__PURE__*/_jsxDEV(IonButton, {\n        onClick: () => doAddStuff(),\n        children: \"UPLOAD COURSE CONTENT\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(IonButton, {\n        color: \"danger\",\n        onClick: () => history.goBack(),\n        children: \"CANCEL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CourseCenterTab, \"UVLyvMEZtSvYPoZhXoNeWm9RM2w=\", false, function () {\n  return [useHistory, useIonAlert];\n});\n\n_c = CourseCenterTab;\nexport default CourseCenterTab;\n\nvar _c;\n\n$RefreshReg$(_c, \"CourseCenterTab\");","map":{"version":3,"sources":["/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/tabs/CourseCenterTab.tsx"],"names":["IonButton","IonButtons","IonContent","IonFooter","IonHeader","IonImg","IonInput","IonItem","IonLabel","IonLoading","IonPage","IonTextarea","IonTitle","IonToolbar","useIonAlert","useRef","useState","useHistory","addStuff","saveImage","CourseCenterTab","history","fileUpload","loading","setLoading","name","setName","description","setDescription","photo","setPhoto","present","doAddStuff","data","imageData","error","imageError","replace","header","message","buttons","width","URL","createObjectURL","display","e","target","files","current","click","event","value","goBack"],"mappings":"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","sourcesContent":["import {\n  IonButton,\n  IonButtons,\n  IonContent,\n  IonFooter,\n  IonHeader,\n  IonImg,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonLoading,\n  IonMenuButton,\n  IonPage,\n  IonSelect,\n  IonSelectOption,\n  IonTextarea,\n  IonTitle,\n  IonToolbar,\n  useIonAlert,\n} from \"@ionic/react\";\nimport { useRef, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { addStuff, saveImage } from \"../../data/data-services\";\n\nimport \"../Page.css\";\n\nconst CourseCenterTab: React.FC = () => {\n  const history = useHistory();\n\n  const fileUpload = useRef<any>(null);\n\n  const [loading, setLoading] = useState<any>(\"\");\n  const [name, setName] = useState<any>(\"\");\n  const [description, setDescription] = useState<any>(\"\");\n  const [photo, setPhoto] = useState<any>(null);\n\n  // used to render platform specific alerts\n  const [present] = useIonAlert();\n\n  const doAddStuff = async () => {\n    try {\n      setLoading(true);\n      // STEP 1 - SAVE IMAGE TO FIREBASE STORAGE\n      const { data: imageData, error: imageError } = await saveImage(photo);\n\n      if (imageError) {\n        throw imageError;\n      }\n\n      // STEP 2 - ADD PRODUCT INFO TO DATABASE, INCLUDE LINK\n      // TO IMAGE IN FIREBASE STORAGE\n      const { data, error } = await addStuff({\n        name,\n        description,\n        imageData,\n      });\n      setLoading(false);\n      // if no error, then render home page\n      history.replace(\"/home\");\n    } catch (error) {\n      setLoading(false);\n\n      // error check for adding product...\n      if (error) {\n        present({\n          header: \"Error Creating New stuff\",\n          message: (error as any)?.message,\n          buttons: [\"OK\"],\n        });\n        return;\n      }\n    }\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonButtons slot=\"start\"></IonButtons>\n          <IonTitle>Course Center</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n\n      <IonContent fullscreen className=\"ion-padding\">\n        {loading ? (\n          <IonLoading isOpen={loading} message=\"Saving Record\" />\n        ) : null}\n        <p>\n          {photo ? (\n            <div\n              style={{\n                width: 300,\n              }}\n            >\n              <IonImg src={URL.createObjectURL(photo)} />\n            </div>\n          ) : null}\n        </p>\n        <input\n          ref={fileUpload}\n          type=\"file\"\n          style={{ display: \"none\" }}\n          onChange={(e) =>\n            setPhoto(e?.target?.files ? e?.target?.files[0] : null)\n          }\n        />\n        <div>\n          <IonButton onClick={() => fileUpload.current.click()}>\n            Get Image\n          </IonButton>\n          <IonButton onClick={() => setPhoto(null)}>Clear Image</IonButton>\n        </div>\n        <IonItem>\n          <IonLabel position=\"fixed\">Name</IonLabel>\n          <IonInput onIonChange={(event: any) => setName(event.target.value)} />\n        </IonItem>\n        <IonItem>\n          <IonLabel position=\"fixed\">Description</IonLabel>\n          <IonTextarea\n            onIonChange={(event: any) => setDescription(event.target.value)}\n          />\n        </IonItem>\n      </IonContent>\n      <IonFooter>\n        <IonButton onClick={() => doAddStuff()}>\n          UPLOAD COURSE CONTENT\n        </IonButton>\n        <IonButton color=\"danger\" onClick={() => history.goBack()}>\n          CANCEL\n        </IonButton>\n      </IonFooter>\n    </IonPage>\n  );\n};\n\nexport default CourseCenterTab;\n"]},"metadata":{},"sourceType":"module"}