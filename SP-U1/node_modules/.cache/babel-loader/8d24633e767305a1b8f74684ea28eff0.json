{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tm/Documents/CODE/STUDYPELAGO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tm/Documents/CODE/STUDYPELAGO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/tm/Documents/CODE/STUDYPELAGO/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{IonButton,IonContent,IonGrid,IonRow,IonCol,IonHeader,IonImg,IonInput,IonItem,IonLabel,IonPage,IonTitle,// import for rendering alerts\nuseIonAlert,IonToolbar,IonCard,IonCardContent,IonCardHeader,IonCardSubtitle,IonCardTitle}from\"@ionic/react\";import{useState}from\"react\";import{useHistory}from\"react-router\";import\"../Page.css\";// import firebase declared in firebase.js\nimport{firebaseAuth}from\"../../store/firebase\";// import img\nimport welcomeImg from\"../../assets/img/welcome.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginPage=function LoginPage(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];// used to render platform specific alerts\nvar _useIonAlert=useIonAlert(),_useIonAlert2=_slicedToArray(_useIonAlert,1),present=_useIonAlert2[0];// firebase documentation\n// https://firebase.google.com/docs/auth/web/password-auth?authuser=0\nvar doLogin=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return firebaseAuth.signInWithEmailAndPassword(email,password);case 3:result=_context.sent;console.log(\"signInWithEmailAndPassword: \",result);history.replace(\"/home\");_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);if(!_context.t0){_context.next=13;break;}present({header:\"Error Logging In User\",message:_context.t0===null||_context.t0===void 0?void 0:_context.t0.message,buttons:[\"OK\"]});return _context.abrupt(\"return\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function doLogin(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(IonPage,{children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:\"Login\"})})}),/*#__PURE__*/_jsx(IonContent,{fullscreen:true,className:\"ion-padding\",children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsxs(IonCardHeader,{children:[/*#__PURE__*/_jsx(IonCardTitle,{children:\"STUDYPELAGO\"}),/*#__PURE__*/_jsx(IonCardSubtitle,{children:\"STUDY ISLANDS ONLINE: 700\"})]}),/*#__PURE__*/_jsx(IonGrid,{children:/*#__PURE__*/_jsx(IonRow,{children:/*#__PURE__*/_jsx(IonCol,{size:\"10\",\"size-lg\":true,offset:\"1\",children:/*#__PURE__*/_jsx(IonImg,{src:welcomeImg})})})}),/*#__PURE__*/_jsxs(IonCardContent,{children:[\"Welcome to Studypelago, the Caribbean's premier tutor services app!\",/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"email\"}),/*#__PURE__*/_jsx(IonInput,{onIonChange:function onIonChange(event){return setEmail(event.target.value);}})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"fixed\",children:\"password\"}),/*#__PURE__*/_jsx(IonInput,{type:\"password\",onIonChange:function onIonChange(event){return setPassword(event.target.value);}})]}),/*#__PURE__*/_jsx(IonButton,{onClick:function onClick(){return doLogin();},children:\"LOGIN\"}),/*#__PURE__*/_jsx(IonButton,{routerLink:\"/auth/create-account\",children:\"CREATE ACCOUNT\"})]})]})})]});};export default LoginPage;","map":{"version":3,"sources":["/Users/tm/Documents/CODE/STUDYPELAGO/src/pages/auth/LoginPage.tsx"],"names":["IonButton","IonContent","IonGrid","IonRow","IonCol","IonHeader","IonImg","IonInput","IonItem","IonLabel","IonPage","IonTitle","useIonAlert","IonToolbar","IonCard","IonCardContent","IonCardHeader","IonCardSubtitle","IonCardTitle","useState","useHistory","firebaseAuth","welcomeImg","LoginPage","history","email","setEmail","password","setPassword","present","doLogin","signInWithEmailAndPassword","result","console","log","replace","header","message","buttons","event","target","value"],"mappings":"8cAAA,OACEA,SADF,CAEEC,UAFF,CAGEC,OAHF,CAIEC,MAJF,CAKEC,MALF,CAMEC,SANF,CAOEC,MAPF,CAQEC,QARF,CASEC,OATF,CAUEC,QAVF,CAWEC,OAXF,CAYEC,QAZF,CAaE;AACAC,WAdF,CAeEC,UAfF,CAgBEC,OAhBF,CAiBEC,cAjBF,CAkBEC,aAlBF,CAmBEC,eAnBF,CAoBEC,YApBF,KAqBO,cArBP,CAsBA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAO,aAAP,CAEA;AACA,OAASC,YAAT,KAA6B,sBAA7B,CAEA;AACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,C,wFAEA,GAAMC,CAAAA,SAAmB,CAAG,QAAtBA,CAAAA,SAAsB,EAAM,CAChC,GAAMC,CAAAA,OAAO,CAAGJ,UAAU,EAA1B,CACA,cAA0BD,QAAQ,CAAC,EAAD,CAAlC,wCAAOM,KAAP,eAAcC,QAAd,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eAEA;AACA,iBAAkBhB,WAAW,EAA7B,8CAAOiB,OAAP,kBAEA;AACA;AACA,GAAMC,CAAAA,OAAO,0FAAG,oLAIST,CAAAA,YAAY,CAACU,0BAAb,CACnBN,KADmB,CAEnBE,QAFmB,CAJT,QAINK,MAJM,eASZC,OAAO,CAACC,GAAR,CAAY,8BAAZ,CAA4CF,MAA5C,EAEAR,OAAO,CAACW,OAAR,CAAgB,OAAhB,EAXY,wHAeVN,OAAO,CAAC,CACNO,MAAM,CAAE,uBADF,CAENC,OAAO,iDAAE,YAAOA,OAFV,CAGNC,OAAO,CAAE,CAAC,IAAD,CAHH,CAAD,CAAP,CAfU,qGAAH,kBAAPR,CAAAA,OAAO,0CAAb,CAyBA,mBACE,MAAC,OAAD,yBACE,KAAC,SAAD,wBACE,KAAC,UAAD,wBACE,KAAC,QAAD,oBADF,EADF,EADF,cAME,KAAC,UAAD,EAAY,UAAU,KAAtB,CAAuB,SAAS,CAAC,aAAjC,uBACE,MAAC,OAAD,yBACE,MAAC,aAAD,yBACE,KAAC,YAAD,0BADF,cAEE,KAAC,eAAD,wCAFF,GADF,cAKE,KAAC,OAAD,wBACE,KAAC,MAAD,wBACE,KAAC,MAAD,EAAQ,IAAI,CAAC,IAAb,CAAkB,cAAlB,CAA0B,MAAM,CAAC,GAAjC,uBAEE,KAAC,MAAD,EAAQ,GAAG,CAAER,UAAb,EAFF,EADF,EADF,EALF,cAaE,MAAC,cAAD,+FAEE,MAAC,OAAD,yBACE,KAAC,QAAD,EAAU,QAAQ,CAAC,OAAnB,mBADF,cAEE,KAAC,QAAD,EACE,WAAW,CAAE,qBAACiB,KAAD,QAAgBb,CAAAA,QAAQ,CAACa,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxB,EADf,EAFF,GAFF,cAQE,MAAC,OAAD,yBACE,KAAC,QAAD,EAAU,QAAQ,CAAC,OAAnB,sBADF,cAEE,KAAC,QAAD,EACE,IAAI,CAAC,UADP,CAEE,WAAW,CAAE,qBAACF,KAAD,QAAgBX,CAAAA,WAAW,CAACW,KAAK,CAACC,MAAN,CAAaC,KAAd,CAA3B,EAFf,EAFF,GARF,cAeE,KAAC,SAAD,EAAW,OAAO,CAAE,yBAAMX,CAAAA,OAAO,EAAb,EAApB,mBAfF,cAgBE,KAAC,SAAD,EAAW,UAAU,CAAE,sBAAvB,4BAhBF,GAbF,GADF,EANF,GADF,CA6CD,CAhFD,CAkFA,cAAeP,CAAAA,SAAf","sourcesContent":["import {\n  IonButton,\n  IonContent,\n  IonGrid,\n  IonRow,\n  IonCol,\n  IonHeader,\n  IonImg,\n  IonInput,\n  IonItem,\n  IonLabel,\n  IonPage,\n  IonTitle,\n  // import for rendering alerts\n  useIonAlert,\n  IonToolbar,\n  IonCard,\n  IonCardContent,\n  IonCardHeader,\n  IonCardSubtitle,\n  IonCardTitle,\n} from \"@ionic/react\";\nimport { useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport \"../Page.css\";\n\n// import firebase declared in firebase.js\nimport { firebaseAuth } from \"../../store/firebase\";\n\n// import img\nimport welcomeImg from \"../../assets/img/welcome.jpg\";\n\nconst LoginPage: React.FC = () => {\n  const history = useHistory();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  // used to render platform specific alerts\n  const [present] = useIonAlert();\n\n  // firebase documentation\n  // https://firebase.google.com/docs/auth/web/password-auth?authuser=0\n  const doLogin = async () => {\n    try {\n      // STEP 1 - LOGIN USER\n      // response contains, error, data, user, session\n      const result = await firebaseAuth.signInWithEmailAndPassword(\n        email,\n        password\n      );\n\n      console.log(\"signInWithEmailAndPassword: \", result);\n\n      history.replace(\"/home\");\n    } catch (error: any) {\n      // error check for creating user...\n      if (error) {\n        present({\n          header: \"Error Logging In User\",\n          message: error?.message,\n          buttons: [\"OK\"],\n        });\n        return;\n      }\n    }\n  };\n\n  return (\n    <IonPage>\n      <IonHeader>\n        <IonToolbar>\n          <IonTitle>Login</IonTitle>\n        </IonToolbar>\n      </IonHeader>\n      <IonContent fullscreen className=\"ion-padding\">\n        <IonCard>\n          <IonCardHeader>\n            <IonCardTitle>STUDYPELAGO</IonCardTitle>\n            <IonCardSubtitle>STUDY ISLANDS ONLINE: 700</IonCardSubtitle>\n          </IonCardHeader>\n          <IonGrid>\n            <IonRow>\n              <IonCol size=\"10\" size-lg offset=\"1\">\n                {/* ION-IMG: Render Image */}\n                <IonImg src={welcomeImg}></IonImg>\n              </IonCol>\n            </IonRow>\n          </IonGrid>\n          <IonCardContent>\n            Welcome to Studypelago, the Caribbean's premier tutor services app!\n            <IonItem>\n              <IonLabel position=\"fixed\">email</IonLabel>\n              <IonInput\n                onIonChange={(event: any) => setEmail(event.target.value)}\n              />\n            </IonItem>\n            <IonItem>\n              <IonLabel position=\"fixed\">password</IonLabel>\n              <IonInput\n                type=\"password\"\n                onIonChange={(event: any) => setPassword(event.target.value)}\n              />\n            </IonItem>\n            <IonButton onClick={() => doLogin()}>LOGIN</IonButton>\n            <IonButton routerLink={\"/auth/create-account\"}>\n              CREATE ACCOUNT\n            </IonButton>\n          </IonCardContent>\n        </IonCard>\n      </IonContent>\n    </IonPage>\n  );\n};\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}